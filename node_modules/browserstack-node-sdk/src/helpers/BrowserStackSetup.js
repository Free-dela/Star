const a55_0x2f0966=a55_0x3f6b;function a55_0x3109(){const _0x131e8c=['FRAMEWORK','percy','error','win32','7888NGQmgq','userName\x20or\x20accessKey\x20is\x20not\x20defined','generateLocalIdentifier','../bin/utils/constants','envConfig','then','woVjP','format','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','turboScaleOptions','../ai-sdk-node/bundle','handleExceptions','browserStackLocalOptions','sendToEDS','isTrue','?caps=','tTPFp','Error\x20occured\x20while\x20stopping\x20percy','fNzsI','framework','./helper','No\x20config\x20provided.','version','BrowserstackHealingInitFailed','4037FkJNcS','setLogLevel','cancel','kTWwj','setHandlePWError','xdpCK','codeceptjs','TCG_AUTH_FAILURE','finalize','HUB_MANAGEMENT','path','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','info','setCLICaps','isUndefined','1582560FUgVFw','ZqCRQ','PcaSI','push','SDK\x20run\x20started\x20with\x20id:\x20','getTurboScaleGridDetails','constructor','zciiH','setEnvCaps','bind','4.5.0','HUNHB','stopPercy','config','skipSessionStatus','AI_INIT_FAILURE','default','race','1257270OdXrOr','hubUrl','initialize','turboScaleUrl','SIGABRT','SIGINT','measureWrapper','MldVY','turboScale','RcOGC','selfHeal','Error\x20in\x20sending\x20testhub\x20stop:\x20','getLocalConfig','tcg\x20config\x20setup\x20successful.','unhandledErrors','cliConfig','getConfigPath','WiuRm','proxyUrl','Shutdown\x20triggered\x20by\x20','Calling\x20Build\x20Stop\x20from\x20ExitHandler','NryOU','tJYbJ','ZjkAf','startPercy','getFinalCaps','yIYLu','hOUzQ','vqNkM','./logger','oSPBf','getHubUrl','ovRPS','BROWSERSTACK_TURBOSCALE','uncaughtException','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','setupPercy','skipBinaryInitialisation','RAPPd','KgKrl','warn','TszKo','sdkRunID','Data\x20sent\x20successfully\x20to\x20','BEvGB','exitHandler','stopBrowserstackLocal','beforeExit','XEaAK','Local\x20binary\x20started\x20successfully','turboScaleGridDetails','intExitHandler','checkStopLocalBinaryOnExit','ovkzp','RnmQy','SrLBv','TJXke','104klRCSy','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','1643551LCUtry','playwright','isBrowserstackInfra','true','IIGCR','iaXtN','389112HsZuIj','UKKkw','BrowserstackHealing.init\x20method\x20timed\x20out','lFmMm','status','ZrEXZ','omWJp','SIGHUP','XOPxK','bDuSA','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','end','message','fireFunnelTestEvent','../../package.json','banvw','hoQyO','join','aAyEN','util','integrations','killSignal','parallelsPerPlatform','SXPmZ','isRunning','./testhub/utils','useW3C','133535UaSVMe','oREym','setUpHubUrl','438Ikjpll','getLocalIdentifier','localOptions','platform','init','pCGAh','customRepeaters','./testhub/testhubHandler','VPGXT','ViqRI','XWgXq','env','giilo','assign','AXkPf','proxyConfig','SDK_CLEANUP','isEnabled','disableAutoCaptureLogs','aiHeal:tcgAuth','AUTOLOGCAPTURE_NOTIFICATION','UkgVM','unhandledRejection','FAGtS','selenium-webdriver','url','./ats/helper','EDS_URL','browserstackLocal','nesJY','./utilities','toString','TCG_URL','./performance/constants','JPIEc','yqLyg','allocateHub','testContextOptions','HBCwY','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','oQtER','OjtVH','SDKTestAttempted','pAeCw','localIdentifier','SIGQUIT','dCiQk','stopLocalBinary','userName','SIGTERM','readConfig','nqETn','./setKeepAlive','setupKeepAlive','stringify','isTrialGrid','startLocalBinary','rbjij','12|32|26|34|18|39|30|35|2|5|24|42|25|8|4|40|16|23|29|33|13|15|14|19|1|11|10|27|28|41|17|9|0|20|38|3|37|21|31|22|36|43|7|6','TCG_DOWN','BROWSERSTACK_PERCY','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','isHealingEnabled','split','getPackageVersion','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','Local\x20binary\x20stopped','sanitizeCaps','bstackConfig','isAuthenticated','length','kuMmn','BROWSERSTACK_CENTRAL_USER','IrBZC','./timeoutPromise','qqaPG','iCQNR','setProxySettings','stop','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','debug','qZPWB','ats-repeater','platforms'];a55_0x3109=function(){return _0x131e8c;};return a55_0x3109();}(function(_0x3320e0,_0xf13a30){const _0x5ede75=a55_0x3f6b,_0x180b91=_0x3320e0();while(!![]){try{const _0x5525a7=-parseInt(_0x5ede75(0x150))/0x1*(parseInt(_0x5ede75(0x1aa))/0x2)+parseInt(_0x5ede75(0x1d0))/0x3*(parseInt(_0x5ede75(0x228))/0x4)+-parseInt(_0x5ede75(0x1cd))/0x5+parseInt(_0x5ede75(0x171))/0x6+-parseInt(_0x5ede75(0x1ac))/0x7+-parseInt(_0x5ede75(0x1b2))/0x8+parseInt(_0x5ede75(0x15f))/0x9;if(_0x5525a7===_0xf13a30)break;else _0x180b91['push'](_0x180b91['shift']());}catch(_0x29e5c8){_0x180b91['push'](_0x180b91['shift']());}}}(a55_0x3109,0x25692));const util=require(a55_0x2f0966(0x1c5)),os=require('os'),path=require(a55_0x2f0966(0x15a)),{v4:uuidv4}=require('uuid'),fs=require('fs'),constants=require(a55_0x2f0966(0x22b)),{isTurboScaleSession}=require(a55_0x2f0966(0x1ea)),logger=require(a55_0x2f0966(0x18e))['winstonLogger'],helper=require(a55_0x2f0966(0x14c)),utilities=require(a55_0x2f0966(0x1ee)),percyHelper=require('./percy/utils'),hubAllocator=require('../hubAllocationMethods'),PerformanceTester=require('./performance/performance-tester'),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a55_0x2f0966(0x1f1)),{setPercyFlag}=require(a55_0x2f0966(0x1cb)),TestHubHandler=require(a55_0x2f0966(0x1d7)),timeoutPromise=require(a55_0x2f0966(0x21a));function a55_0x3f6b(_0x1e475a,_0x291fb3){const _0x3109dd=a55_0x3109();return a55_0x3f6b=function(_0x3f6bbf,_0x53d616){_0x3f6bbf=_0x3f6bbf-0x142;let _0x22600c=_0x3109dd[_0x3f6bbf];return _0x22600c;},a55_0x3f6b(_0x1e475a,_0x291fb3);}class BrowserStackSetup{constructor(_0x395143,_0x135ad1){const _0x177750=a55_0x2f0966,_0x583329={'woVjP':_0x177750(0x20a),'omWJp':_0x177750(0x1fa),'TcWjK':_0x177750(0x229),'iRBbQ':_0x177750(0x1a0),'xdpCK':function(_0x5940ad,_0x2de806){return _0x5940ad!==_0x2de806;},'uQbnt':_0x177750(0x227),'XEaAK':_0x177750(0x175),'fNzsI':_0x177750(0x1fd),'AvEEA':'SIGBREAK','tJYbJ':function(_0x4ac046){return _0x4ac046();},'MldVY':function(_0x474290,_0x183268){return _0x474290===_0x183268;},'nhKDh':function(_0xd8e2be,_0x4dd090){return _0xd8e2be<_0x4dd090;},'oSPBf':function(_0x1766d4,_0x5dfe31){return _0x1766d4(_0x5dfe31);},'JPIEc':_0x177750(0x1e8),'IrBZC':function(_0x574d72,_0x24a7d9){return _0x574d72===_0x24a7d9;},'PcaSI':_0x177750(0x169),'PXekQ':_0x177750(0x201),'WZzgb':_0x177750(0x14d),'IIGCR':_0x177750(0x176),'XOPxK':_0x177750(0x194),'banvw':'parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','SrLBv':function(_0x3aaa02,_0x10ffaa){return _0x3aaa02===_0x10ffaa;},'ZbyPV':_0x177750(0x1c6),'aAyEN':_0x177750(0x1b9)},_0x132f1a=_0x583329[_0x177750(0x22e)][_0x177750(0x20f)]('|');let _0x42de7c=0x0;while(!![]){switch(_0x132f1a[_0x42de7c++]){case'0':if(!helper[_0x177750(0x1ae)]()){try{process['env'][_0x177750(0x224)]=_0x135ad1,utilities['fireFunnelTestEvent'](_0x583329['omWJp'],{},this[_0x177750(0x16c)],this['framework']);}catch(_0x59778d){logger[_0x177750(0x220)](_0x177750(0x21f)+_0x59778d);}return;}continue;case'1':if(helper[_0x177750(0x15e)](helper['getUserName'](this[_0x177750(0x16c)]))||helper[_0x177750(0x15e)](helper['getAccessKey'](this[_0x177750(0x16c)])))throw new Error(_0x583329['TcWjK']);continue;case'2':this['errorMessage']={};continue;case'3':!this['config']['testContextOptions']&&(this[_0x177750(0x16c)][_0x177750(0x1f5)]={});continue;case'4':this[_0x177750(0x1c7)]=null;continue;case'5':global[_0x177750(0x16c)]=this[_0x177750(0x16c)];continue;case'6':process['on'](_0x583329['iRBbQ'],this[_0x177750(0x19e)]());continue;case'7':_0x583329[_0x177750(0x155)](process[_0x177750(0x1d3)],_0x583329['uQbnt'])?(process['on'](_0x583329[_0x177750(0x1a1)],this[_0x177750(0x1a4)]),process['on'](_0x583329[_0x177750(0x14a)],this[_0x177750(0x1a4)])):process['on'](_0x583329['AvEEA'],this[_0x177750(0x1a4)]);continue;case'8':this[_0x177750(0x19b)]=_0x583329[_0x177750(0x187)](uuidv4);continue;case'9':process['env'][_0x177750(0x192)]&&(this[_0x177750(0x16c)][_0x177750(0x179)]=helper[_0x177750(0x146)](process[_0x177750(0x1db)][_0x177750(0x192)]),this['config'][_0x177750(0x231)]=this[_0x177750(0x16c)][_0x177750(0x231)]||{});continue;case'10':this[_0x177750(0x16c)]['browserStackLocalOptions'][_0x177750(0x196)]=helper[_0x177750(0x146)](this[_0x177750(0x16c)][_0x177750(0x144)][_0x177750(0x196)]);continue;case'11':helper[_0x177750(0x17d)](this[_0x177750(0x16c)])&&helper[_0x177750(0x15e)](helper[_0x177750(0x1d1)](this[_0x177750(0x16c)]))&&(!helper[_0x177750(0x15e)](this['config'][_0x177750(0x144)])&&_0x583329[_0x177750(0x178)](this[_0x177750(0x16c)]['browserStackLocalOptions'][_0x177750(0x165)],Object)?!helper[_0x177750(0x146)](this[_0x177750(0x16c)][_0x177750(0x144)][_0x177750(0x196)])&&(this['config']['browserStackLocalOptions']['localIdentifier']=helper[_0x177750(0x22a)]()):this[_0x177750(0x16c)][_0x177750(0x144)]={'localIdentifier':helper[_0x177750(0x22a)]()});continue;case'12':this[_0x177750(0x17f)]=[];continue;case'13':this[_0x177750(0x16c)]['testContextOptions'][_0x177750(0x16d)]=!helper['isBrowserstackInfra']()||helper[_0x177750(0x146)](this['config'][_0x177750(0x1f5)][_0x177750(0x16d)]);continue;case'14':helper[_0x177750(0x18a)](this['config'],this[_0x177750(0x180)],this['envConfig']);continue;case'15':this['config'][_0x177750(0x1f5)]['skipSessionName']=!helper[_0x177750(0x1ae)]()||helper['isTrue'](this[_0x177750(0x16c)][_0x177750(0x1f5)]['skipSessionName']);continue;case'16':logger['info'](_0x177750(0x163)+this[_0x177750(0x19b)]);continue;case'17':this[_0x177750(0x143)]();continue;case'18':this[_0x177750(0x225)]=null;continue;case'19':!this[_0x177750(0x16c)][_0x177750(0x144)]&&(this[_0x177750(0x16c)][_0x177750(0x144)]=this[_0x177750(0x16c)][_0x177750(0x1d2)]||{});continue;case'20':helper['requireSeleniumWebdriverCheck'](_0x135ad1)&&(_0x583329['nhKDh'](_0x583329[_0x177750(0x18f)](parseInt,helper[_0x177750(0x210)](_0x583329[_0x177750(0x1f2)])),0x3)&&(this[_0x177750(0x16c)][_0x177750(0x1cc)]=![]),_0x583329[_0x177750(0x219)](helper['compareVersions'](helper[_0x177750(0x210)](_0x583329[_0x177750(0x1f2)]),_0x583329[_0x177750(0x161)]),0x1)&&(this[_0x177750(0x16c)][_0x177750(0x1cc)]=!![]));continue;case'21':!this[_0x177750(0x16c)][_0x177750(0x1e2)]&&logger[_0x177750(0x15c)](constants[_0x177750(0x1e4)]);continue;case'22':process['on'](_0x583329['PXekQ'],this[_0x177750(0x1a4)]);continue;case'23':if(helper['isUndefined'](this[_0x177750(0x16c)]))throw new Error(_0x583329['WZzgb']);continue;case'24':global[_0x177750(0x14b)]=_0x135ad1;continue;case'25':this[_0x177750(0x14b)]=_0x135ad1;continue;case'26':this[_0x177750(0x22c)]=helper[_0x177750(0x167)]();continue;case'27':helper[_0x177750(0x151)](this[_0x177750(0x16c)],this[_0x177750(0x180)],this[_0x177750(0x22c)]);continue;case'28':helper[_0x177750(0x154)](this[_0x177750(0x16c)]);continue;case'29':if(this[_0x177750(0x16c)][_0x177750(0x226)])throw new Error(this[_0x177750(0x16c)][_0x177750(0x226)]);continue;case'30':this[_0x177750(0x16c)][_0x177750(0x223)]=this['config'][_0x177750(0x223)]||[];continue;case'31':this['intExitHandler']=this[_0x177750(0x1a4)][_0x177750(0x168)](this);continue;case'32':this[_0x177750(0x180)]=helper[_0x177750(0x15d)](_0x395143);continue;case'33':helper['setBrowserstackInfraFromConfig'](this[_0x177750(0x16c)],this['cliConfig']);continue;case'34':this['browserstackLocal']=null;continue;case'35':this[_0x177750(0x16c)][_0x177750(0x1f5)]=this[_0x177750(0x16c)][_0x177750(0x1f5)]||{};continue;case'36':process['on'](_0x583329[_0x177750(0x1b0)],this['intExitHandler']);continue;case'37':try{process[_0x177750(0x1db)][_0x177750(0x224)]=_0x395143['_'][0x0],utilities['fireFunnelTestEvent'](_0x583329[_0x177750(0x1b8)],{},this[_0x177750(0x16c)],this[_0x177750(0x14b)]);}catch(_0x55b07d){logger['debug'](_0x177750(0x21f)+_0x55b07d);}continue;case'38':(helper[_0x177750(0x15e)](this[_0x177750(0x16c)][_0x177750(0x223)])||helper[_0x177750(0x15e)](this[_0x177750(0x16c)][_0x177750(0x223)][_0x177750(0x216)]))&&(helper[_0x177750(0x15e)](this['config'][_0x177750(0x1c8)])?logger[_0x177750(0x15c)](_0x583329[_0x177750(0x1ba)]):logger[_0x177750(0x199)](_0x583329[_0x177750(0x1c1)]),this[_0x177750(0x16c)][_0x177750(0x223)]=[]);continue;case'39':this['config']=helper[_0x177750(0x202)](helper[_0x177750(0x181)](_0x395143));continue;case'40':global['sdkRunID']=this[_0x177750(0x19b)];continue;case'41':if(_0x583329[_0x177750(0x1a8)](_0x135ad1,_0x583329['ZbyPV']))return;continue;case'42':helper[_0x177750(0x213)](this[_0x177750(0x16c)]);continue;case'43':process['on'](_0x583329[_0x177750(0x1c4)],this[_0x177750(0x1a4)]);continue;}break;}}async[a55_0x2f0966(0x173)](){const _0x477a6c=a55_0x2f0966,_0xf2c4d4={'nqETn':function(_0x11c370,_0x10bbfa){return _0x11c370(_0x10bbfa);},'AXkPf':_0x477a6c(0x222),'dCiQk':'custom-repeater','pCGAh':'true','EEjSo':function(_0x3f7e94,_0x481bf8){return _0x3f7e94===_0x481bf8;},'BEvGB':_0x477a6c(0x1ad),'HBCwY':function(_0x212bc6,_0x4d63cc){return _0x212bc6+_0x4d63cc;},'yqLyg':_0x477a6c(0x147),'giilo':function(_0x3ac6ab,_0x4fb7a2){return _0x3ac6ab(_0x4fb7a2);},'UkgVM':_0x477a6c(0x156),'tTPFp':function(_0x1e691e,_0x2416f7){return _0x1e691e(_0x2416f7);}};if(_0xf2c4d4[_0x477a6c(0x203)](isTurboScaleSession,this[_0x477a6c(0x16c)])){const _0x3fea2c=await helper[_0x477a6c(0x164)](this[_0x477a6c(0x16c)]);this[_0x477a6c(0x16c)][_0x477a6c(0x1a3)]=_0x3fea2c,_0x3fea2c[_0x477a6c(0x207)]&&(this['config'][_0x477a6c(0x1ec)]=!![],this[_0x477a6c(0x16c)]['browserStackLocalOptions'][_0x477a6c(0x1fc)]=_0xf2c4d4[_0x477a6c(0x1de)],this[_0x477a6c(0x16c)][_0x477a6c(0x144)][_0xf2c4d4[_0x477a6c(0x1fe)]]=_0x3fea2c[_0x477a6c(0x1d6)][_0x477a6c(0x1c3)](','),this[_0x477a6c(0x16c)][_0x477a6c(0x144)]['forceLocal']=_0xf2c4d4[_0x477a6c(0x1d5)]),this['config']['turboScaleUrl']=_0x3fea2c[_0x477a6c(0x1e9)],this['framework']&&_0xf2c4d4['EEjSo'](this[_0x477a6c(0x14b)]['toLowerCase'](),_0xf2c4d4[_0x477a6c(0x19d)])&&(this[_0x477a6c(0x16c)][_0x477a6c(0x174)]=_0xf2c4d4[_0x477a6c(0x1f6)](_0x3fea2c['playwrightUrl'],_0xf2c4d4[_0x477a6c(0x1f3)])),constants[_0x477a6c(0x172)]=helper[_0x477a6c(0x190)](this[_0x477a6c(0x16c)]),logger[_0x477a6c(0x220)](_0x477a6c(0x20d)+constants['hubUrl']);}helper[_0x477a6c(0x21d)](this[_0x477a6c(0x16c)]),this[_0x477a6c(0x205)](),_0xf2c4d4[_0x477a6c(0x1dc)](setPercyFlag,this),await this['setupBrowserstackLocal'](),![_0xf2c4d4[_0x477a6c(0x1e5)]]['includes'](this[_0x477a6c(0x14b)])&&!_0xf2c4d4[_0x477a6c(0x148)](isTurboScaleSession,this[_0x477a6c(0x16c)])&&!process['env'][_0x477a6c(0x218)]&&await this[_0x477a6c(0x1cf)]();}async[a55_0x2f0966(0x195)](){const _0x2ce80e=a55_0x2f0966,_0x21b022={};_0x21b022[_0x2ce80e(0x18c)]=function(_0x47da7f,_0x35c008){return _0x47da7f===_0x35c008;},_0x21b022[_0x2ce80e(0x1d8)]='false',_0x21b022['oQtER']='Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.',_0x21b022[_0x2ce80e(0x217)]='Percy\x20started\x20successfully',_0x21b022['ZjkAf']='true',_0x21b022[_0x2ce80e(0x17a)]=_0x2ce80e(0x1a0);const _0x84303f=_0x21b022;if(helper[_0x2ce80e(0x146)](this['config'][_0x2ce80e(0x225)])&&(!this[_0x2ce80e(0x225)]||!this[_0x2ce80e(0x225)][_0x2ce80e(0x1ca)]()))try{this['percy']=await percyHelper[_0x2ce80e(0x189)](this[_0x2ce80e(0x16c)]);if(!this[_0x2ce80e(0x225)]){process[_0x2ce80e(0x1db)]['BROWSERSTACK_PERCY']=_0x84303f['VPGXT'];throw new Error(_0x84303f[_0x2ce80e(0x1f8)]);}logger[_0x2ce80e(0x15c)](_0x84303f[_0x2ce80e(0x217)]),process[_0x2ce80e(0x1db)][_0x2ce80e(0x20c)]=_0x84303f[_0x2ce80e(0x188)];let _0x4d4599=0x0;const _0x4cc6d2=async()=>{const _0x3cff1f=_0x2ce80e;_0x4d4599++,_0x84303f[_0x3cff1f(0x18c)](_0x4d4599,0x1)&&await this[_0x3cff1f(0x16b)]();};process['on'](_0x84303f[_0x2ce80e(0x17a)],_0x4cc6d2);}catch(_0x5c2c46){process[_0x2ce80e(0x1db)][_0x2ce80e(0x20c)]=_0x84303f['VPGXT'],logger[_0x2ce80e(0x220)]('Error\x20in\x20percy\x20setup\x20'+_0x5c2c46);throw new Error(_0x5c2c46[_0x2ce80e(0x1ef)]());}}async['stopPercy'](){const _0x580443=a55_0x2f0966,_0x91899a={};_0x91899a[_0x580443(0x1a6)]='Percy\x20stopped',_0x91899a[_0x580443(0x21c)]=_0x580443(0x149);const _0x174984=_0x91899a;if(this[_0x580443(0x225)]&&this[_0x580443(0x225)][_0x580443(0x1ca)]())try{await percyHelper[_0x580443(0x16b)](this[_0x580443(0x225)]),logger[_0x580443(0x15c)](_0x174984[_0x580443(0x1a6)]);}catch(_0xa07a52){logger[_0x580443(0x226)](_0x174984['iCQNR'],_0xa07a52[_0x580443(0x1be)]);}}async['setupBrowserstackLocal'](){const _0x1c1d39=a55_0x2f0966,_0x519aea={};_0x519aea[_0x1c1d39(0x221)]=_0x1c1d39(0x15b),_0x519aea['NryOU']=_0x1c1d39(0x1a2);const _0x1e7540=_0x519aea;if(helper['isBrowserstackInfra']()&&helper[_0x1c1d39(0x146)](this[_0x1c1d39(0x16c)][_0x1c1d39(0x1ec)])&&(!this[_0x1c1d39(0x1ec)]||!this['browserstackLocal'][_0x1c1d39(0x1ca)]()))try{if(this[_0x1c1d39(0x16c)][_0x1c1d39(0x144)][_0x1c1d39(0x196)]){logger['debug'](_0x1e7540[_0x1c1d39(0x221)]);return;}this[_0x1c1d39(0x1ec)]=await helper[_0x1c1d39(0x208)](this['config']),logger[_0x1c1d39(0x15c)](_0x1e7540[_0x1c1d39(0x186)]);}catch(_0x14426a){logger[_0x1c1d39(0x220)](_0x14426a);throw new Error(_0x14426a['toString']());}}async['stopBrowserstackLocal'](){const _0x2ef7dc=a55_0x2f0966,_0x350631={};_0x350631[_0x2ef7dc(0x1b3)]=_0x2ef7dc(0x212),_0x350631[_0x2ef7dc(0x1da)]='Error\x20occured\x20while\x20stopping\x20local\x20binary';const _0x148c18=_0x350631;if(this[_0x2ef7dc(0x1ec)]&&this[_0x2ef7dc(0x1ec)]['isRunning']())try{await helper[_0x2ef7dc(0x1ff)](this['browserstackLocal']),logger[_0x2ef7dc(0x15c)](_0x148c18[_0x2ef7dc(0x1b3)]);}catch(_0x363024){logger[_0x2ef7dc(0x226)](_0x148c18[_0x2ef7dc(0x1da)],_0x363024[_0x2ef7dc(0x1be)]);}}async[a55_0x2f0966(0x1cf)](){const _0x234124=a55_0x2f0966;return PerformanceTester[_0x234124(0x177)](PerformanceAutEvents[_0x234124(0x159)],async()=>{const _0x445ea9=_0x234124;await hubAllocator[_0x445ea9(0x1f4)](this[_0x445ea9(0x16c)]);})();}async['setupTCGAuth'](){const _0x5e2f56=a55_0x2f0966,_0x469536={'RnmQy':function(_0x209c4f,_0x47dbcc){return _0x209c4f(_0x47dbcc);},'vqNkM':_0x5e2f56(0x142),'zciiH':function(_0x41469c,_0xd996d2,_0x447676,_0x5664e9,_0x1b5d45,_0x422e7f,_0x11f2cd){return _0x41469c(_0xd996d2,_0x447676,_0x5664e9,_0x1b5d45,_0x422e7f,_0x11f2cd);},'wJHbG':_0x5e2f56(0x1b4),'OquKZ':_0x5e2f56(0x14f),'yIYLu':_0x5e2f56(0x1c0),'iaXtN':'BrowserstackHealing.init','ViqRI':function(_0x204a40,_0x42831a){return _0x204a40===_0x42831a;},'lFmMm':_0x5e2f56(0x1af),'OjtVH':function(_0x620d88,_0x3426a9){return _0x620d88===_0x3426a9;},'TszKo':_0x5e2f56(0x1ab),'KfhMr':function(_0x29c84a,_0x25aa04){return _0x29c84a===_0x25aa04;},'ZqCRQ':_0x5e2f56(0x230),'oREym':_0x5e2f56(0x1bc),'ZrEXZ':_0x5e2f56(0x1f7),'RAPPd':function(_0x51ab27,_0x2c6858){return _0x51ab27>=_0x2c6858;},'YJfcK':function(_0x42d336,_0x2f4baa){return _0x42d336<_0x2f4baa;},'dnOBT':_0x5e2f56(0x17e),'qqaPG':_0x5e2f56(0x1e3),'wJixr':function(_0x2fa8f6){return _0x2fa8f6();}},_0x509fe1=PerformanceTester[_0x5e2f56(0x177)](_0x469536[_0x5e2f56(0x21b)],async()=>{const _0x5d1778=_0x5e2f56;try{const _0x27f3dc=new Date(),_0x34f9f3=helper['getProxyConfigForTcg'](this[_0x5d1778(0x16c)]),_0x2777d4=_0x469536[_0x5d1778(0x1a7)](require,path[_0x5d1778(0x1c3)](__dirname,_0x469536[_0x5d1778(0x18d)])),_0x7b08e6=_0x469536[_0x5d1778(0x166)](timeoutPromise,constants['TCG_AUTH_TIMEOUT'],_0x469536['wJHbG'],_0x469536['OquKZ'],_0x27f3dc,this[_0x5d1778(0x16c)],this[_0x5d1778(0x14b)]),_0x2bc365={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x469536[_0x5d1778(0x1a7)](require,_0x469536[_0x5d1778(0x18b)])[_0x5d1778(0x14e)],'methodUsed':_0x469536[_0x5d1778(0x1b1)],'proxyConfig':_0x34f9f3,'os':os[_0x5d1778(0x1d3)]()};if(_0x34f9f3&&_0x34f9f3[_0x5d1778(0x183)]){utilities[_0x5d1778(0x1bf)](constants['AI_PROXY_FAILURE'],_0x2bc365,this[_0x5d1778(0x16c)],this[_0x5d1778(0x14b)]);return;}const _0x5f4266={};_0x5f4266['proxy']=_0x34f9f3;const _0x38fc81=await Promise[_0x5d1778(0x170)]([_0x2777d4[_0x5d1778(0x1d4)](this[_0x5d1778(0x16c)]['accessKey'],this[_0x5d1778(0x16c)][_0x5d1778(0x200)],constants[_0x5d1778(0x1f0)],_0x469536[_0x5d1778(0x1a7)](require,_0x469536[_0x5d1778(0x18b)])['version'],_0x5f4266)[_0x5d1778(0x22d)](_0x46bab6=>{const _0x2573e0=_0x5d1778;return _0x7b08e6[_0x2573e0(0x152)](),_0x46bab6;}),_0x7b08e6]);_0x38fc81[_0x5d1778(0x20e)]=_0x469536[_0x5d1778(0x1d9)](_0x38fc81['isHealingEnabled'],_0x469536['lFmMm'])||_0x469536['ViqRI'](_0x38fc81[_0x5d1778(0x20e)],!![]);const _0x1572ad=_0x469536[_0x5d1778(0x1d9)](this[_0x5d1778(0x16c)][_0x5d1778(0x17b)],!![])||_0x469536[_0x5d1778(0x1d9)](this[_0x5d1778(0x16c)]['selfHeal'],_0x469536[_0x5d1778(0x1b5)]);if(_0x469536[_0x5d1778(0x1f9)](_0x38fc81[_0x5d1778(0x1be)],constants['UPGRADE_REQUIRED'])&&_0x1572ad)logger[_0x5d1778(0x15c)](_0x469536[_0x5d1778(0x19a)]);else{if(!_0x38fc81['isAuthenticated']&&_0x469536['KfhMr'](_0x38fc81[_0x5d1778(0x1b6)],0x1f7)&&_0x1572ad)logger[_0x5d1778(0x15c)](_0x469536[_0x5d1778(0x160)]),utilities[_0x5d1778(0x1bf)](constants[_0x5d1778(0x20b)],_0x2bc365,this[_0x5d1778(0x16c)],this['framework']);else{if(!_0x38fc81[_0x5d1778(0x215)]&&_0x1572ad){logger[_0x5d1778(0x15c)](_0x469536[_0x5d1778(0x1ce)]);const _0x103560={'tcgUrl':constants[_0x5d1778(0x1f0)],'sdkVersion':_0x469536['RnmQy'](require,_0x469536[_0x5d1778(0x18b)])[_0x5d1778(0x14e)],'methodUsed':_0x469536[_0x5d1778(0x1b1)],'proxyConfig':_0x34f9f3,'os':os[_0x5d1778(0x1d3)]()};utilities['fireFunnelTestEvent'](constants[_0x5d1778(0x157)],_0x103560,this[_0x5d1778(0x16c)],this[_0x5d1778(0x14b)]);}else{if(_0x38fc81[_0x5d1778(0x215)]&&!_0x38fc81[_0x5d1778(0x20e)]&&_0x1572ad)logger[_0x5d1778(0x15c)](_0x469536[_0x5d1778(0x1b7)]);else{if(_0x469536[_0x5d1778(0x197)](_0x38fc81[_0x5d1778(0x1b6)],0xc8)&&_0x469536['YJfcK'](_0x38fc81[_0x5d1778(0x1b6)],0x12c))utilities[_0x5d1778(0x1bf)](constants['AI_INIT_SUCCESSFUL'],_0x2bc365,this[_0x5d1778(0x16c)],this[_0x5d1778(0x14b)]);else{if(_0x469536[_0x5d1778(0x197)](_0x38fc81[_0x5d1778(0x1b6)],0x190))_0x2bc365[_0x5d1778(0x1b6)]=_0x38fc81[_0x5d1778(0x1b6)],utilities[_0x5d1778(0x1bf)](constants[_0x5d1778(0x16e)],_0x2bc365,this[_0x5d1778(0x16c)],this[_0x5d1778(0x14b)]);else!_0x38fc81[_0x5d1778(0x1b6)]&&utilities[_0x5d1778(0x1bf)](constants['INVALID_INIT_RESP_WITH_USER_IMPACT'],_0x2bc365,this[_0x5d1778(0x16c)],this[_0x5d1778(0x14b)]);}}}}}if(_0x38fc81[_0x5d1778(0x215)]&&_0x38fc81[_0x5d1778(0x20e)]){const _0x185685={};_0x185685['tcgAuthConfig']=_0x38fc81;const _0x4045f7=_0x185685;_0x34f9f3&&(_0x4045f7[_0x5d1778(0x1df)]=_0x34f9f3),_0x4045f7['framework']=this[_0x5d1778(0x14b)],_0x4045f7[_0x5d1778(0x214)]=this[_0x5d1778(0x16c)],helper['setupTcgConfigFile'](_0x4045f7),logger[_0x5d1778(0x220)](_0x469536['dnOBT']);}}catch(_0x4f7a8f){logger[_0x5d1778(0x220)](_0x5d1778(0x211)+(_0x4f7a8f['message']?_0x4f7a8f[_0x5d1778(0x1be)]:''));}});await _0x469536['wJixr'](_0x509fe1);}[a55_0x2f0966(0x205)](){const _0x4f5840=a55_0x2f0966,_0x2f427c={'ovRPS':function(_0x167dbd,_0x19840d){return _0x167dbd(_0x19840d);},'wPsoZ':_0x4f5840(0x204)};_0x2f427c[_0x4f5840(0x191)](require,_0x2f427c['wPsoZ'])();}[a55_0x2f0966(0x143)](){const _0xedc634=a55_0x2f0966,_0x249a9e={};_0x249a9e[_0xedc634(0x1e7)]=_0xedc634(0x1e6),_0x249a9e['WiuRm']=_0xedc634(0x193);const _0xf3f540=_0x249a9e,_0x3714c6=_0x371279=>{const _0x1c4220=_0xedc634;logger['error'](_0x371279['message']),logger[_0x1c4220(0x220)](util['format'](_0x371279)),this[_0x1c4220(0x17f)][_0x1c4220(0x162)](util[_0x1c4220(0x22f)]('%j',_0x371279)),PerformanceTester['captureError'](_0x371279);};process['on'](_0xf3f540[_0xedc634(0x1e7)],_0x3714c6),process['on'](_0xf3f540[_0xedc634(0x182)],_0x3714c6);}async[a55_0x2f0966(0x1a4)](_0x4506b9){const _0x144ed0=a55_0x2f0966,_0x229812={};_0x229812['hoQyO']='1|2|4|0|3',_0x229812[_0x144ed0(0x153)]=function(_0x40fffe,_0x49d016){return _0x40fffe+_0x49d016;},_0x229812[_0x144ed0(0x1bb)]='handled',_0x229812[_0x144ed0(0x209)]=function(_0x1ab661,_0x3cfdce){return _0x1ab661+_0x3cfdce;},_0x229812['KgKrl']=function(_0x20c74c,_0x5436b6){return _0x20c74c+_0x5436b6;},_0x229812['euvlW']=_0x144ed0(0x184);const _0x45563f=_0x229812,_0x3b3bd7=_0x45563f[_0x144ed0(0x1c2)][_0x144ed0(0x20f)]('|');let _0x439c2c=0x0;while(!![]){switch(_0x3b3bd7[_0x439c2c++]){case'0':this[_0x144ed0(0x1c7)]=_0x4506b9;continue;case'1':if(this[_0x45563f[_0x144ed0(0x153)](_0x45563f[_0x144ed0(0x1bb)],_0x4506b9)])return;continue;case'2':this[_0x45563f[_0x144ed0(0x209)](_0x45563f['bDuSA'],_0x4506b9)]=!![];continue;case'3':await TestHubHandler[_0x144ed0(0x21e)](_0x4506b9);continue;case'4':logger[_0x144ed0(0x15c)](_0x45563f[_0x144ed0(0x198)](_0x45563f['euvlW'],_0x4506b9));continue;}break;}}[a55_0x2f0966(0x19e)](){const _0x1083eb=a55_0x2f0966,_0x472d77={};_0x472d77[_0x1083eb(0x1a9)]=function(_0x1801fa,_0x5d702d){return _0x1801fa===_0x5d702d;},_0x472d77[_0x1083eb(0x16a)]=_0x1083eb(0x185),_0x472d77[_0x1083eb(0x1c9)]=function(_0x235033,_0x948c18){return _0x235033>_0x948c18;},_0x472d77['pAeCw']=function(_0x41565e,_0x4e1db4){return _0x41565e>_0x4e1db4;},_0x472d77[_0x1083eb(0x1ed)]='log/events.json';const _0x3a8eb1=_0x472d77;let _0x2cd10f=0x0;return async()=>{const _0x13289c=_0x1083eb;_0x2cd10f++;if(_0x3a8eb1[_0x13289c(0x1a9)](_0x2cd10f,0x1)){helper[_0x13289c(0x1a5)](this['framework'])&&await this[_0x13289c(0x19f)]();try{logger[_0x13289c(0x220)](_0x3a8eb1['HUNHB']),await TestHubHandler[_0x13289c(0x21e)](_0x2cd10f);}catch(_0x58fe9b){logger[_0x13289c(0x220)](_0x13289c(0x17c)+util[_0x13289c(0x22f)](_0x58fe9b));}PerformanceTester[_0x13289c(0x1bd)](PerformanceEvents[_0x13289c(0x1e0)]);if(PerformanceTester[_0x13289c(0x1e1)]()){const {measures:_0x325304,errors:_0x3abfec}=await PerformanceTester[_0x13289c(0x158)](),_0x3af19a={};if(_0x325304&&_0x3a8eb1[_0x13289c(0x1c9)](_0x325304[_0x13289c(0x216)],0x0)||_0x3abfec&&_0x3a8eb1[_0x13289c(0x1fb)](_0x3abfec[_0x13289c(0x216)],0x0)){const _0x1e3f2f={};_0x1e3f2f['measures']=_0x325304,_0x1e3f2f['exceptions']=_0x3abfec,Object[_0x13289c(0x1dd)](_0x3af19a,_0x1e3f2f);}try{const _0x2fefd0=await helper[_0x13289c(0x145)](_0x3af19a,this['config']);logger[_0x13289c(0x220)](_0x13289c(0x19c)+constants[_0x13289c(0x1eb)]+'\x20with\x20response\x20'+_0x2fefd0['statusCode']);}catch(_0x2e0f14){logger[_0x13289c(0x220)]('Failed\x20to\x20send\x20data\x20to\x20'+constants[_0x13289c(0x1eb)]+'\x20with\x20error\x20'+util[_0x13289c(0x22f)](_0x2e0f14));}try{fs['writeFileSync'](_0x3a8eb1[_0x13289c(0x1ed)],JSON[_0x13289c(0x206)](_0x3af19a));}catch(_0x288921){logger[_0x13289c(0x220)]('Error\x20in\x20writing\x20events\x20to\x20file\x20'+_0x288921);}}}};}}exports[a55_0x2f0966(0x16f)]=BrowserStackSetup;