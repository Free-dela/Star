const a92_0x559672=a92_0x5ca3;(function(_0x343e5d,_0x382a4e){const _0x2b139f=a92_0x5ca3,_0x4571bc=_0x343e5d();while(!![]){try{const _0x93b72f=parseInt(_0x2b139f(0x12a))/0x1+parseInt(_0x2b139f(0x10f))/0x2*(parseInt(_0x2b139f(0x102))/0x3)+parseInt(_0x2b139f(0x132))/0x4*(parseInt(_0x2b139f(0xfd))/0x5)+-parseInt(_0x2b139f(0x100))/0x6*(parseInt(_0x2b139f(0x114))/0x7)+parseInt(_0x2b139f(0xe3))/0x8+-parseInt(_0x2b139f(0x138))/0x9*(-parseInt(_0x2b139f(0xeb))/0xa)+-parseInt(_0x2b139f(0xc9))/0xb*(parseInt(_0x2b139f(0xed))/0xc);if(_0x93b72f===_0x382a4e)break;else _0x4571bc['push'](_0x4571bc['shift']());}catch(_0x47f5ad){_0x4571bc['push'](_0x4571bc['shift']());}}}(a92_0x20a6,0x95857));function a92_0x5ca3(_0x2a455e,_0x1d5c06){const _0x20a625=a92_0x20a6();return a92_0x5ca3=function(_0x5ca31f,_0x2b4d13){_0x5ca31f=_0x5ca31f-0xb8;let _0x115a55=_0x20a625[_0x5ca31f];return _0x115a55;},a92_0x5ca3(_0x2a455e,_0x1d5c06);}function a92_0x20a6(){const _0x5a49b5=['getPackageVersion','7984112fhhqbn','unknown','util','KbZLw','RtwAW','unhandledErrors','./logger','POST','10uBvQTO','\x20response\x20-\x20','268908XfoFQH','format','awxup','ENV_VAR','PKJSp','length',',\x20testhub\x20id:\x20','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','globalException','browserStackConfig','./performance/performance-tester','EyVAq','browserVersion','APP_AUTOMATE','bXrli','qYGGk','5IdIvqy','values','codeceptjs','117618DgWmcE','_buildHashedId','444nKCkrh','finalExecution','deviceName','stopPercy','keys','notifyUpdate','source','./helper','getFrameworkVersion','finishedMetadata','SnxGw','osVersion','forEach','15068GotUxq','app','ithmt','UqZar','rlbcc','7rbVdon','buildName','reduce','seleniumVersion','Playwright','sdkRunID','getTurboScaleBuildLink','playwrightVersion','AUTOMATE_PRODUCTS','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','fEmDj','ViGdP','body','../helpers/testhub/constants','./test-observability/utils','errorMessage','UBjUH','tsSyJ','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','SDK\x20run\x20ended\x20for\x20id:\x20','user_killed','cdcwn','700631ozULKi','./testhub/utils','debug','thEZX','isBrowserstackInfra','getNodeAgent','config','fireFunnelTestEvent','4887628FpIiwB','AUTOMATE','apply','tests','content-type','getAccessKey','1032039AgJruZ','undefined','sanitizeBrowserStackConfig','FUNNEL_INSTRUMENTATION_API_URL','getGlobal','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','error','uipoD','API\x20Event\x20','MbcJS','QXwtW','gIWxf','./ats/helper','all','SmojH','env','framework','SDKTestSuccessful','1727TGiwqM','OZEKf','HiOmE','PDnPs','../bin/playwright/reporter/pwUtils','selenium-webdriver','application/json','cZvPo','Ybzdb','name','BROWSERSTACK_TESTHUB_UUID','cqKVY','browser','getOptimalHubUrl','\x20:\x20','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','nodejs','getUserName','../bin/utils/constants','info','parse','event_properties','nodeRequest','ZORmE','killSignal'];a92_0x20a6=function(){return _0x5a49b5;};return a92_0x20a6();}const os=require('os'),util=require(a92_0x559672(0xe5)),{getProductMap}=require(a92_0x559672(0x12b)),logger=require(a92_0x559672(0xe9))['winstonLogger'],constants=require('../bin/utils/constants'),testHubConstants=require(a92_0x559672(0x121)),{getTransformPath}=require(a92_0x559672(0xcd)),{FUNNEL_INSTRUMENTATION_API_URL}=require(a92_0x559672(0xdb)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a92_0x559672(0x109)),PerformanceTester=require(a92_0x559672(0xf7)),globals=require('./globals'),{isTurboScaleSession}=require(a92_0x559672(0xc3)),helper=require(a92_0x559672(0x109)),{isTestObservabilitySession}=require(a92_0x559672(0x122));let unhandledErrors='';exports[a92_0x559672(0x131)]=async(_0x58a6c0,_0x3e99c2={},_0x4b3ebc,_0x32777a)=>{const _0x43d057=a92_0x559672,_0x1be3ab={'PDnPs':function(_0xb7fdc5,_0x585581){return _0xb7fdc5===_0x585581;},'QXwtW':'object','VVsDN':function(_0x4b6940,_0x54237b){return _0x4b6940>_0x54237b;},'UBjUH':function(_0x5e8c3f,_0x17df9a){return _0x5e8c3f>_0x17df9a;},'QjsMc':_0x43d057(0x135),'OiZVW':function(_0x4f5ea8){return _0x4f5ea8();},'qYGGk':function(_0x48969a){return _0x48969a();},'rlbcc':function(_0x430ac3,_0x15fb94){return _0x430ac3==_0x15fb94;},'uipoD':'null','gIWxf':function(_0x142e97,_0x1939cc){return _0x142e97===_0x1939cc;},'SmojH':_0x43d057(0xb8),'Ybzdb':function(_0x4c7008,_0x22f2b7){return _0x4c7008>_0x22f2b7;},'tsSyJ':_0x43d057(0xff),'fCvvC':function(_0x1441a7,_0x41bc02){return _0x1441a7>_0x41bc02;},'cqKVY':function(_0x59bbe5,_0x555c6f){return _0x59bbe5!==_0x555c6f;},'cZvPo':_0x43d057(0x118),'aSOPB':function(_0x1ff94a,_0x4d2835){return _0x1ff94a===_0x4d2835;},'RtwAW':_0x43d057(0xbd),'awxup':function(_0x52d589,_0x2edce3){return _0x52d589+_0x2edce3;},'fEmDj':_0x43d057(0xbc),'PKJSp':_0x43d057(0x101),'ViGdP':function(_0x4d4c97,_0x483d7c){return _0x4d4c97(_0x483d7c);},'EyVAq':_0x43d057(0xe4),'ithmt':_0x43d057(0xd9),'xrlog':function(_0x4e7c2d,_0x224654){return _0x4e7c2d===_0x224654;},'KbZLw':'SDKTestSuccessful','bpwVE':function(_0x183b7f,_0x269e9c){return _0x183b7f===_0x269e9c;},'OZEKf':_0x43d057(0xce),'HiOmE':_0x43d057(0xcf),'WrHdy':_0x43d057(0xea)};let _0x42a62b=[];if(helper[_0x43d057(0x12e)]()&&_0x1be3ab['OiZVW'](isTestObservabilitySession))_0x42a62b=_0x4b3ebc[_0x43d057(0x110)]?constants['APP_AUTOMATE_PRODUCTS']:constants[_0x43d057(0x11c)];else{if(_0x1be3ab[_0x43d057(0xfc)](isTestObservabilitySession))_0x42a62b=constants[_0x43d057(0x126)];else helper[_0x43d057(0x12e)]()&&(_0x42a62b=_0x4b3ebc[_0x43d057(0x110)]?constants[_0x43d057(0xfa)]:constants[_0x43d057(0x133)]);}let _0xd8658f=_0x4b3ebc['buildIdentifier'];if(_0x1be3ab[_0x43d057(0x113)](_0xd8658f,null))_0xd8658f=_0x1be3ab[_0x43d057(0xbe)];else _0x1be3ab[_0x43d057(0xc2)](_0xd8658f,undefined)&&(_0xd8658f=_0x1be3ab[_0x43d057(0xc5)]);unhandledErrors&&_0x1be3ab[_0x43d057(0xd1)](unhandledErrors['length'],0x0)&&(_0x3e99c2[_0x43d057(0xf5)]=unhandledErrors);global['sdkRunID']&&(_0x3e99c2['sdkRunId']=global[_0x43d057(0x119)]);try{if(_0x3e99c2[_0x43d057(0xbd)]){if(_0x1be3ab[_0x43d057(0xc2)](_0x32777a,_0x1be3ab[_0x43d057(0x125)])&&_0x1be3ab['fCvvC'](_0x3e99c2[_0x43d057(0xbd)]['length'],0x0)){const _0x2ecdaf={};_0x2ecdaf['os']='',_0x2ecdaf['osVersion']='',_0x2ecdaf[_0x43d057(0xd5)]='',_0x2ecdaf[_0x43d057(0xf9)]='';const _0x2b4730=_0x2ecdaf;let _0x4e9092={};const _0x1c25bb=_0x3e99c2[_0x43d057(0xbd)];_0x4e9092=_0x1c25bb[_0x43d057(0x116)]((_0x14680b,_0x44b6d2)=>{for(const _0x44551d in _0x44b6d2){_0x14680b[_0x44551d]=_0x44b6d2[_0x44551d];}return _0x14680b;},{});const _0xa3a2c3={};_0xa3a2c3[_0x43d057(0x135)]=_0x4e9092,_0x3e99c2['error']=[Object['assign']({},_0x2b4730,_0xa3a2c3)];}else{let _0x431738=0x0;const _0x12fe72=_0x1be3ab[_0x43d057(0xd4)](_0x32777a,_0x1be3ab['cZvPo'])?JSON[_0x43d057(0xdd)](_0x3e99c2[_0x43d057(0xbd)]):_0x3e99c2['error'],_0x44d0d2=Object['values'](_0x12fe72);_0x44d0d2[_0x43d057(0x10e)](_0x13cba5=>{const _0x196f4c=_0x43d057;if(_0x1be3ab[_0x196f4c(0xcc)](typeof _0x13cba5,_0x1be3ab[_0x196f4c(0xc1)])){const _0x2a6255=Object[_0x196f4c(0xfe)](_0x13cba5);!_0x2a6255['every'](_0x790ee6=>_0x790ee6===null||_0x790ee6===undefined||_0x790ee6==='')&&(_0x431738+=0x1);}});if(_0x1be3ab['aSOPB'](_0x431738,0x0))delete _0x3e99c2[_0x1be3ab['RtwAW']];else{const _0x44ee55=[];Object[_0x43d057(0x106)](_0x12fe72)['forEach'](_0x250b9a=>{const _0xb06f20=_0x43d057,[_0x498c6d,_0x10b485,_0x2811ff,_0x5424aa]=_0x250b9a['split'](',\x20');let _0x5bd09d={};if(!_0x5424aa){const _0x37a1fe={};_0x37a1fe[_0xb06f20(0x104)]=_0x498c6d,_0x37a1fe[_0xb06f20(0x10d)]=_0x10b485,_0x37a1fe[_0xb06f20(0xd5)]=_0x2811ff,_0x5bd09d=_0x37a1fe;}else{const _0x2cd074={};_0x2cd074['os']=_0x498c6d,_0x2cd074[_0xb06f20(0x10d)]=_0x10b485,_0x2cd074[_0xb06f20(0xd5)]=_0x2811ff,_0x2cd074['browserVersion']=_0x5424aa,_0x5bd09d=_0x2cd074;}const _0x1e7c92={},_0xdce1f6=_0x12fe72[_0x250b9a];Object['keys'](_0xdce1f6)[_0xb06f20(0x10e)](_0x1af903=>{_0x1be3ab['VVsDN'](_0xdce1f6[_0x1af903]['length'],0x0)&&(_0x1e7c92[_0x1af903]=_0xdce1f6[_0x1af903]);}),_0x1be3ab[_0xb06f20(0x124)](Object[_0xb06f20(0x106)](_0x1e7c92)[_0xb06f20(0xf2)],0x0)&&(_0x5bd09d[_0x1be3ab['QjsMc']]=_0x1e7c92,_0x44ee55['push'](_0x5bd09d));}),_0x1be3ab[_0x43d057(0xd1)](_0x44ee55[_0x43d057(0xf2)],0x0)?_0x3e99c2[_0x43d057(0xbd)]=_0x44ee55:delete _0x3e99c2[_0x1be3ab[_0x43d057(0xe7)]];}}}}catch(_0x17d6e7){delete _0x3e99c2[_0x1be3ab[_0x43d057(0xe7)]],logger['debug'](_0x1be3ab[_0x43d057(0xef)](_0x1be3ab[_0x43d057(0x11e)],_0x17d6e7));}const _0x55de4b=helper['getTestFrameworkDetails'](_0x4b3ebc,_0x4b3ebc[_0x43d057(0xc7)]),_0x1eb988={'userName':helper['getUserName'](_0x4b3ebc),'accessKey':helper[_0x43d057(0x137)](_0x4b3ebc),'event_type':_0x58a6c0,'detectedFramework':_0x32777a,'buildHashedId':globals[_0x43d057(0xbb)](_0x1be3ab[_0x43d057(0xf1)]),'optimalHubUrl':helper[_0x43d057(0xd6)](),'event_properties':{'testhub_uuid':process[_0x43d057(0xc6)][testHubConstants[_0x43d057(0xf0)]['BROWSERSTACK_TESTHUB_UUID']]||'','sdkRunId':global[_0x43d057(0x119)],'product_map':_0x1be3ab['ViGdP'](getProductMap,_0x4b3ebc),'productMap':_0x1be3ab[_0x43d057(0x11f)](getProductMap,_0x4b3ebc),'language_framework':_0x4b3ebc[_0x43d057(0x108)]||_0x1be3ab[_0x43d057(0xf8)],'referrer':helper[_0x43d057(0x12f)](_0x32777a),'framework':_0x4b3ebc[_0x43d057(0xc7)],'frameworkVersion':helper[_0x43d057(0x10a)](_0x32777a),'automationFramework':_0x55de4b[_0x43d057(0xd2)],'automationFrameworkVersion':_0x55de4b['version'],'language':_0x1be3ab[_0x43d057(0x111)],'languageVersion':process['version'],'product':_0x42a62b,'buildName':_0x4b3ebc[_0x43d057(0x115)]||_0x1be3ab[_0x43d057(0xc5)],'buildIdentifier':_0xd8658f,'os':os['type']()||_0x1be3ab['EyVAq'],'hostname':os['hostname']()||_0x1be3ab[_0x43d057(0xf8)],..._0x3e99c2}};try{_0x1be3ab['xrlog'](_0x58a6c0,_0x1be3ab[_0x43d057(0xe6)])&&(_0x1eb988[_0x43d057(0xde)][_0x43d057(0xf6)]=helper[_0x43d057(0xb9)](_0x4b3ebc)),_0x1be3ab['bpwVE'](_0x32777a,_0x1be3ab[_0x43d057(0xd0)])?_0x1eb988[_0x43d057(0xde)][_0x43d057(0x11b)]=helper['requirePWModule'][_0x43d057(0x134)](null,_0x1be3ab[_0x43d057(0xfc)](getTransformPath),!![]):_0x1eb988[_0x43d057(0xde)][_0x43d057(0x117)]=helper[_0x43d057(0xe2)](_0x1be3ab[_0x43d057(0xca)]);}catch(_0x965d07){logger[_0x43d057(0x12c)](_0x43d057(0xd8)+_0x965d07);}const _0x2c4a90={};_0x2c4a90[_0x43d057(0x136)]=_0x1be3ab[_0x43d057(0xcb)];const _0x504360={'headers':_0x2c4a90,'body':_0x1eb988,'auth':{'user':helper[_0x43d057(0xda)](_0x4b3ebc),'pass':helper[_0x43d057(0x137)](_0x4b3ebc)},'json':!![]};logger[_0x43d057(0x12c)](_0x43d057(0xf4)+JSON['stringify'](_0x504360[_0x43d057(0x120)]));try{const _0x16e574=await helper[_0x43d057(0xdf)](_0x1be3ab['WrHdy'],constants[_0x43d057(0xba)],_0x504360,_0x4b3ebc);logger[_0x43d057(0x12c)](_0x43d057(0xbf)+_0x58a6c0+_0x43d057(0xec)+util[_0x43d057(0xee)]('%j',_0x16e574));}catch(_0x2cb506){logger['debug']('Error\x20in\x20firing\x20request\x20to\x20'+FUNNEL_INSTRUMENTATION_API_URL+_0x43d057(0xd7)+util[_0x43d057(0xee)](_0x2cb506));}},exports[a92_0x559672(0x103)]=async _0x5ebaae=>{const _0x50ba89=a92_0x559672,_0x28745e={'UqZar':function(_0x4fbad2){return _0x4fbad2();},'MbcJS':_0x50ba89(0x10b),'bXrli':_0x50ba89(0x128),'ZORmE':function(_0x39c4af,_0x5df28c){return _0x39c4af(_0x5df28c);},'SnxGw':_0x50ba89(0xc8),'thEZX':function(_0x401e81,_0xecf3ee,_0x35d2b6){return _0x401e81(_0xecf3ee,_0x35d2b6);},'cdcwn':function(_0x218cb8,_0xe66bdd){return _0x218cb8+_0xe66bdd;},'SlUnZ':_0x50ba89(0x11d)};try{await _0x5ebaae[_0x50ba89(0x105)](),_0x28745e[_0x50ba89(0x112)](printNudgeLocalNotSetError);const _0x338eca={};_0x338eca[_0x50ba89(0xbd)]=_0x5ebaae['errorMessage']?_0x5ebaae[_0x50ba89(0x123)]:'{}';const _0x1a16bf=_0x338eca,_0x372a7c=Object['assign']({},_0x1a16bf);!!_0x5ebaae[_0x50ba89(0xe1)]&&(_0x372a7c[_0x28745e[_0x50ba89(0xc0)]]={'reason':_0x28745e[_0x50ba89(0xfb)],'signal':_0x5ebaae['killSignal']});unhandledErrors=_0x5ebaae[_0x50ba89(0xe8)]['join']('\x0a');let _0x529849,_0x448c20,_0x414411;_0x28745e[_0x50ba89(0xe0)](isTurboScaleSession,_0x5ebaae['config'])?([_0x529849,_0x448c20]=await helper[_0x50ba89(0x11a)](_0x5ebaae[_0x50ba89(0x130)]),[_0x414411]=await Promise[_0x50ba89(0xc4)]([helper['getTurboScaleSessionsList'](_0x529849,_0x5ebaae[_0x50ba89(0x130)]),exports['fireFunnelTestEvent'](_0x28745e[_0x50ba89(0x10c)],_0x372a7c,_0x5ebaae[_0x50ba89(0x130)],_0x5ebaae['framework'])])):([_0x529849,_0x448c20]=await helper['getBuildLink'](_0x5ebaae[_0x50ba89(0x130)]),[_0x414411]=await Promise[_0x50ba89(0xc4)]([helper['getSessionsList'](_0x529849,_0x5ebaae[_0x50ba89(0x130)]),exports[_0x50ba89(0x131)](_0x28745e[_0x50ba89(0x10c)],_0x372a7c,_0x5ebaae[_0x50ba89(0x130)],_0x5ebaae[_0x50ba89(0xc7)])])),_0x414411&&await _0x28745e[_0x50ba89(0x12d)](generateCIArtifacts,_0x414411,_0x448c20),logger[_0x50ba89(0xdc)](_0x50ba89(0x127)+_0x5ebaae['sdkRunID']+_0x50ba89(0xf3)+process[_0x50ba89(0xc6)][_0x50ba89(0xd3)]),await helper['sendLogs'](_0x5ebaae[_0x50ba89(0x130)]);}catch(_0x3e2655){logger['debug'](_0x28745e[_0x50ba89(0x129)](_0x28745e['SlUnZ'],_0x3e2655));}helper[_0x50ba89(0x107)]();};