const a77_0x51d122=a77_0x218d;function a77_0x4a92(){const _0x4f5629=['../performance/constants','261fOLKRb','ZNtab','patchDriverPercy','platforms','Stopping\x20percy','isUndefined','app','start','408saNHDR','Error\x20patching\x20','stop','startPercy','then','measureWrapper','init','getPercyOptions','chrome','EMoDK','zefMb','Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present','winstonLogger','20XuxGdv','patch','16SiLvfP','increment','26iifUHc','toLowerCase','./Percy','./PercyCaptureModes','ssVuN','error','1477938wRNXzc','browserstackPercyBestPlatform','uTVQq','browserName','screenshotApp','./PercyCaptureMap','getDriver','rGIRL','driver','7416gMEJhK','\x20for\x20percy\x20','vqcyj','element','xomtK','8632500fGFZYB','deviceName','790794LjSBbA','ihcGV','maags','browserStackPercyOptions','screenshot','7673fQJbhq','stopPercy','percyAutoCapture','hfmhJ','../performance/performance-tester','STOP','browserstackPercyMap','percyCaptureMode','forEach','getBestPlatformForPercySnapshot','71401oplxFX','326070ZnXoJY','prototype','browserstackSessionName','percy','CmGVy','nestedKeyValue','overrideXforPercy','apply','./PercySDK','debug'];a77_0x4a92=function(){return _0x4f5629;};return a77_0x4a92();}(function(_0x4c7703,_0x389446){const _0x1601e3=a77_0x218d,_0x1f3501=_0x4c7703();while(!![]){try{const _0x52a73b=parseInt(_0x1601e3(0x1f9))/0x1*(-parseInt(_0x1601e3(0x228))/0x2)+-parseInt(_0x1601e3(0x20f))/0x3*(parseInt(_0x1601e3(0x1ed))/0x4)+-parseInt(_0x1601e3(0x224))/0x5*(-parseInt(_0x1601e3(0x1f4))/0x6)+-parseInt(_0x1601e3(0x22e))/0x7*(parseInt(_0x1601e3(0x226))/0x8)+parseInt(_0x1601e3(0x204))/0x9+parseInt(_0x1601e3(0x1f2))/0xa+-parseInt(_0x1601e3(0x203))/0xb*(parseInt(_0x1601e3(0x217))/0xc);if(_0x52a73b===_0x389446)break;else _0x1f3501['push'](_0x1f3501['shift']());}catch(_0x26c904){_0x1f3501['push'](_0x1f3501['shift']());}}}(a77_0x4a92,0x7f9ab));const Percy=require(a77_0x51d122(0x22a)),PercySDK=require(a77_0x51d122(0x20c)),PercyCaptureModes=require(a77_0x51d122(0x22b)),PercyCaptureMap=require(a77_0x51d122(0x1e9)),logger=require('../logger')[a77_0x51d122(0x223)],helper=require('../helper'),PerformanceTester=require(a77_0x51d122(0x1fd)),{PERCY_EVENTS:PerformanceEvents}=require(a77_0x51d122(0x20e));function a77_0x218d(_0x297f32,_0x24561a){const _0x4a9297=a77_0x4a92();return a77_0x218d=function(_0x218d79,_0x10eb5b){_0x218d79=_0x218d79-0x1e8;let _0x148145=_0x4a9297[_0x218d79];return _0x148145;},a77_0x218d(_0x297f32,_0x24561a);}exports[a77_0x51d122(0x21a)]=PerformanceTester[a77_0x51d122(0x21c)](PerformanceEvents['START'],async _0x5685a8=>{const _0x5e1a17=a77_0x51d122,_0x3fb213={};_0x3fb213[_0x5e1a17(0x221)]='Starting\x20percy';const _0x41ec96=_0x3fb213;logger[_0x5e1a17(0x20d)](_0x41ec96['zefMb']);const _0x414dbc=new Percy(_0x5685a8),_0x53f6e2=await _0x414dbc[_0x5e1a17(0x216)]();if(_0x53f6e2)return _0x414dbc;return null;}),exports[a77_0x51d122(0x1fa)]=PerformanceTester[a77_0x51d122(0x21c)](PerformanceEvents[a77_0x51d122(0x1fe)],async _0x4db34d=>{const _0x4fcc10=a77_0x51d122,_0x5be675={};_0x5be675[_0x4fcc10(0x22c)]=_0x4fcc10(0x213);const _0x52f727=_0x5be675;return logger['debug'](_0x52f727[_0x4fcc10(0x22c)]),_0x4db34d[_0x4fcc10(0x219)]();}),exports[a77_0x51d122(0x202)]=_0x37eb52=>{const _0x230dfd=a77_0x51d122,_0x31ddb0={};_0x31ddb0['unWtS']=function(_0x13b9ce,_0x1a2865){return _0x13b9ce<_0x1a2865;};const _0x238367=_0x31ddb0,_0x57867e={};_0x57867e[_0x230dfd(0x21f)]=0x0,_0x57867e['firefox']=0x1,_0x57867e['edge']=0x2,_0x57867e['safari']=0x3;const _0x3d67cf=_0x57867e;return _0x37eb52['reduce']((_0x5b8461,_0x497e6d,_0x2d1b3b)=>{const _0x14b445=_0x230dfd,_0x462ba8=_0x37eb52[_0x5b8461];if(_0x497e6d[_0x14b445(0x1f3)])return _0x5b8461;if(_0x462ba8['deviceName'])return _0x2d1b3b;const _0x44f302=_0x497e6d['browser']?_0x497e6d['browser']:_0x497e6d[_0x14b445(0x231)];if(_0x44f302&&_0x238367['unWtS'](_0x3d67cf[_0x44f302['toLowerCase']()],_0x3d67cf[_0x44f302[_0x14b445(0x229)]()]))return _0x2d1b3b;return _0x5b8461;},0x0);},exports[a77_0x51d122(0x1fb)]=PerformanceTester[a77_0x51d122(0x21c)](PerformanceEvents['AUTO_CAPTURE'],async(_0x4b89a2,_0x5e2adf,_0x3ff1c4)=>{const _0x4d15d3=a77_0x51d122,_0x83ff3={};_0x83ff3[_0x4d15d3(0x1eb)]=_0x4d15d3(0x222);const _0x5e66d0=_0x83ff3,_0x7d2107=_0x4b89a2['browserstackPercyMap'];if(helper[_0x4d15d3(0x214)](_0x4b89a2[_0x4d15d3(0x206)])){logger[_0x4d15d3(0x20d)](_0x5e66d0[_0x4d15d3(0x1eb)]);return;}const _0xca7915=_0x7d2107['getName'](_0x4b89a2[_0x4d15d3(0x206)],_0x5e2adf);_0x3ff1c4[_0x4d15d3(0x215)]?await PercySDK[_0x4d15d3(0x1e8)](_0x4b89a2,_0xca7915):await PercySDK[_0x4d15d3(0x1f8)](_0x4b89a2,_0xca7915),_0x7d2107[_0x4d15d3(0x227)](_0x4b89a2[_0x4d15d3(0x206)],_0x5e2adf);}),exports[a77_0x51d122(0x211)]=(_0x3b3a75,_0x5ccb62,_0x44f931)=>{const _0x40aca0=a77_0x51d122,_0x15580d={};_0x15580d[_0x40aca0(0x1fc)]=_0x40aca0(0x1f7),_0x15580d['uTVQq']='percy',_0x15580d[_0x40aca0(0x1f1)]=function(_0x10f86d,_0x47e2dc){return _0x10f86d!==_0x47e2dc;},_0x15580d[_0x40aca0(0x210)]='manual';const _0x25fc25=_0x15580d;if(!helper[_0x40aca0(0x209)](_0x44f931,[_0x25fc25[_0x40aca0(0x1fc)],_0x25fc25[_0x40aca0(0x230)]]))return;if(_0x44f931['browserStackPercyOptions'][_0x40aca0(0x207)]&&_0x44f931[_0x40aca0(0x1f7)]['percyCaptureMode']&&_0x25fc25[_0x40aca0(0x1f1)](_0x44f931[_0x40aca0(0x1f7)][_0x40aca0(0x200)],_0x25fc25[_0x40aca0(0x210)])&&!_0x3b3a75[_0x40aca0(0x1ff)]){global['browserstackSessionName']&&(_0x3b3a75[_0x40aca0(0x206)]=global[_0x40aca0(0x206)]),_0x3b3a75[_0x40aca0(0x1ff)]=new PercyCaptureMap();const _0x515e52=PercyCaptureModes[_0x44f931[_0x40aca0(0x1f7)][_0x40aca0(0x200)]];_0x515e52[_0x40aca0(0x1ec)]&&_0x515e52[_0x40aca0(0x1ec)][_0x40aca0(0x201)](_0x585606=>this['overrideXforPercy'](_0x3b3a75,_0x585606,_0x44f931)),_0x515e52[_0x40aca0(0x1f0)]&&_0x515e52[_0x40aca0(0x1f0)][_0x40aca0(0x201)](_0x3a7fc3=>{const _0x1b44ed=_0x40aca0;if(_0x5ccb62[_0x1b44ed(0x205)]['patch'+_0x3a7fc3])return;_0x5ccb62[_0x1b44ed(0x205)]['patch'+_0x3a7fc3]=!![];const _0x329aa8=_0x5ccb62[_0x1b44ed(0x205)][_0x3a7fc3];_0x5ccb62[_0x1b44ed(0x205)][_0x3a7fc3]=async function(){const _0x4a93cd=_0x1b44ed;let _0x387dc9=_0x329aa8['apply'](this,arguments);_0x387dc9&&_0x387dc9[_0x4a93cd(0x21b)]&&(_0x387dc9=await _0x387dc9);try{const _0x13275f=this[_0x4a93cd(0x1ea)]();await exports[_0x4a93cd(0x1fb)](_0x13275f,_0x3a7fc3,_0x44f931);}catch(_0x554366){logger[_0x4a93cd(0x22d)](_0x4a93cd(0x218)+_0x3a7fc3+_0x4a93cd(0x1ee)+_0x554366);}return _0x387dc9;};});}},exports[a77_0x51d122(0x20a)]=function(_0x3c20f9,_0x532313,_0x202b75){const _0x536a4=a77_0x51d122,_0x38c89b={};_0x38c89b['maags']=function(_0x4962bd,_0x2b51e7){return _0x4962bd+_0x2b51e7;},_0x38c89b[_0x536a4(0x1ef)]=_0x536a4(0x225),_0x38c89b[_0x536a4(0x1f5)]=function(_0x1490ae,_0x741e83){return _0x1490ae+_0x741e83;},_0x38c89b[_0x536a4(0x220)]=_0x536a4(0x21d);const _0x275085=_0x38c89b,_0x57004f=_0x275085[_0x536a4(0x1f6)](_0x275085[_0x536a4(0x1ef)],_0x532313),_0x10e2fc=_0x275085['ihcGV'](_0x275085[_0x536a4(0x220)],_0x532313),_0x4f00c7=this;if(_0x3c20f9[_0x57004f]||!_0x3c20f9[_0x532313])return;_0x3c20f9[_0x57004f]=!![],_0x3c20f9[_0x10e2fc]=_0x3c20f9[_0x532313],_0x3c20f9[_0x532313]=async()=>{const _0x5bd6e3=_0x536a4;try{await _0x4f00c7[_0x5bd6e3(0x1fb)](_0x3c20f9,_0x532313,_0x202b75);}catch(_0x1481f8){logger[_0x5bd6e3(0x22d)](_0x5bd6e3(0x218)+_0x532313+'\x20for\x20percy\x20'+_0x1481f8);}return await _0x3c20f9[_0x10e2fc][_0x5bd6e3(0x20b)](_0x3c20f9,arguments);};},exports[a77_0x51d122(0x21e)]=_0x258356=>{const _0x5a6ba6=a77_0x51d122,_0x3cbd8f={};_0x3cbd8f[_0x5a6ba6(0x208)]='auto';const _0x2268a0=_0x3cbd8f,_0x492962={};_0x492962[_0x5a6ba6(0x207)]=_0x258356['percy'],_0x492962['percyCaptureMode']=_0x258356['percyCaptureMode']||_0x2268a0[_0x5a6ba6(0x208)];const _0x186099=_0x492962;_0x258356[_0x5a6ba6(0x207)]&&(_0x186099[_0x5a6ba6(0x22f)]=exports['getBestPlatformForPercySnapshot'](_0x258356[_0x5a6ba6(0x212)]));;return _0x186099;};