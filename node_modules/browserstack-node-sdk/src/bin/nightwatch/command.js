#!/usr/bin/env node
'use strict';const a33_0xd94390=a33_0x4dc6;function a33_0x58c7(){const _0x44a5b3=['--env','295BYNYCu','--config','ZgsSG','nightwatch.conf.js','desiredCapabilities','nightwatch-browserstack.json','eFRwE','stringify','selenium','kSQfC','info','port','KIhJQ','modifyBrowserStackW3CCaps','trim','hub.browserstack.com','filter','exports','test','map','platform','4501czYtta','nightwatch','../../helpers/logger','platforms','push','start_process','BGfNz','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','camdi','1122327RvfwdX','gvceN','mergeDeep','path','close','../utils/constants','906470LgflgK','forEach','4LxdXFd','AJiXi','qiUEg','split','unlinkSync','config','cwd','Getting\x20your\x20nightwatch\x20configs\x20from\x20','THQNZ','77nAtGjf','host','8383887Aeyzvo','Yurci','getPlatformName','PBkCL','child\x20process\x20exited\x20with\x20code\x20','splice','1256ftYGNo','smRWn','nZqvI','winstonLogger','../../helpers/helper','isUndefined','existsSync','74812rqEyrS','now','inherit','Deleting\x20','slice','child_process','join','1205902YIagsA','debug','JLiII','findIndex','length','FNpFz','MBRws','../../helpers/BrowserStackSetup','test_settings','4597332OYJlCZ'];a33_0x58c7=function(){return _0x44a5b3;};return a33_0x58c7();}(function(_0x44799c,_0xd9c8f0){const _0x50b02f=a33_0x4dc6,_0x52cac0=_0x44799c();while(!![]){try{const _0x346d70=parseInt(_0x50b02f(0xa5))/0x1+-parseInt(_0x50b02f(0xd6))/0x2*(parseInt(_0x50b02f(0xce))/0x3)+parseInt(_0x50b02f(0x9e))/0x4*(parseInt(_0x50b02f(0xb0))/0x5)+parseInt(_0x50b02f(0xae))/0x6+parseInt(_0x50b02f(0xc5))/0x7*(-parseInt(_0x50b02f(0x97))/0x8)+-parseInt(_0x50b02f(0xe1))/0x9+-parseInt(_0x50b02f(0xd4))/0xa*(parseInt(_0x50b02f(0xdf))/0xb);if(_0x346d70===_0xd9c8f0)break;else _0x52cac0['push'](_0x52cac0['shift']());}catch(_0x337175){_0x52cac0['push'](_0x52cac0['shift']());}}}(a33_0x58c7,0xa1388));const fs=require('fs'),path=require(a33_0xd94390(0xd1)),{spawn}=require(a33_0xd94390(0xa3)),logger=require(a33_0xd94390(0xc7))[a33_0xd94390(0x9a)],{default:BrowserStackSetup}=require(a33_0xd94390(0xac)),helper=require(a33_0xd94390(0x9b)),constants=require(a33_0xd94390(0xd3)),getUserNightwatchConfigs=(_0x945bb8,_0x10a65c)=>{const _0x180b08=a33_0xd94390,_0x221b56={'camdi':_0x180b08(0xb3),'qiUEg':'nightwatch.json','JLiII':function(_0x48de3f,_0x23a788){return _0x48de3f(_0x23a788);},'Yurci':_0x180b08(0xcc)};let _0x908852=null,_0x447de3={};const _0x28f844=_0x10a65c['findIndex'](_0x254928=>_0x254928===_0x180b08(0xb1));if(!helper[_0x180b08(0x9c)](_0x945bb8[_0x180b08(0xdb)])&&fs[_0x180b08(0x9d)](path['join'](process['cwd'](),_0x945bb8[_0x180b08(0xdb)])))_0x908852=path[_0x180b08(0xa4)](process[_0x180b08(0xdc)](),_0x945bb8[_0x180b08(0xdb)]),_0x10a65c['splice'](_0x28f844,0x2);else{if(fs[_0x180b08(0x9d)](path[_0x180b08(0xa4)](process['cwd'](),_0x221b56[_0x180b08(0xcd)])))_0x908852=path[_0x180b08(0xa4)](process[_0x180b08(0xdc)](),_0x221b56['camdi']);else fs['existsSync'](path['join'](process[_0x180b08(0xdc)](),_0x221b56[_0x180b08(0xd8)]))&&(_0x908852=path[_0x180b08(0xa4)](process[_0x180b08(0xdc)](),_0x221b56['qiUEg']));}return _0x908852?(logger[_0x180b08(0xba)](_0x180b08(0xdd)+_0x908852),_0x447de3=_0x221b56[_0x180b08(0xa7)](require,_0x908852)):logger[_0x180b08(0xba)](_0x221b56[_0x180b08(0xe2)]),_0x447de3;},removeExistingEnvs=_0x15c909=>{const _0xcbfe6a=a33_0xd94390,_0x218c75={};_0x218c75[_0xcbfe6a(0x99)]=function(_0x575977,_0x15f1c4){return _0x575977>_0x15f1c4;},_0x218c75[_0xcbfe6a(0xd7)]=function(_0x563610,_0x3e04ea){return _0x563610>_0x3e04ea;};const _0x36fc1d=_0x218c75;let _0x39ce18=_0x15c909['findIndex'](_0x5ab9fa=>_0x5ab9fa===_0xcbfe6a(0xaf));_0x36fc1d['nZqvI'](_0x39ce18,-0x1)&&_0x15c909['splice'](_0x39ce18,0x2),_0x39ce18=_0x15c909[_0xcbfe6a(0xa8)](_0x43c95b=>_0x43c95b==='-e'),_0x36fc1d['AJiXi'](_0x39ce18,-0x1)&&_0x15c909[_0xcbfe6a(0x96)](_0x39ce18,0x2);};function a33_0x4dc6(_0x778664,_0x21c49d){const _0x58c73e=a33_0x58c7();return a33_0x4dc6=function(_0x4dc6b7,_0xa47d09){_0x4dc6b7=_0x4dc6b7-0x94;let _0x463034=_0x58c73e[_0x4dc6b7];return _0x463034;},a33_0x4dc6(_0x778664,_0x21c49d);}function run(_0x3ec98f,_0x5a2177){const _0x48553d=a33_0xd94390,_0x2c8926={'gvceN':_0x48553d(0xc6),'ZgsSG':function(_0x5e411c,_0x1e1ae5){return _0x5e411c+_0x1e1ae5;},'kSQfC':_0x48553d(0xad),'smRWn':function(_0x2d5029,_0x236326,_0x537798){return _0x2d5029(_0x236326,_0x537798);},'MBRws':_0x48553d(0xbf),'BGfNz':'Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','aeNVs':function(_0x3cf0a8,_0x1cfc1b){return _0x3cf0a8===_0x1cfc1b;},'KIhJQ':_0x48553d(0xb5),'eFRwE':function(_0x4bf23f,_0x19c806){return _0x4bf23f(_0x19c806);},'THQNZ':function(_0x2b2cae,_0x31f921,_0x1fe4e0,_0x511da8){return _0x2b2cae(_0x31f921,_0x1fe4e0,_0x511da8);},'eGSkK':'nightwatch.cmd','qLEOA':_0x48553d(0xb1),'PBkCL':'--env','FNpFz':_0x48553d(0xa0),'gHenY':_0x48553d(0xd2)},_0x2f0c3f=new BrowserStackSetup(_0x3ec98f);if(!_0x2f0c3f['config'])return;const _0x785a01=_0x2c8926[_0x48553d(0x98)](getUserNightwatchConfigs,_0x3ec98f,_0x5a2177),_0x10ce39={};_0x10ce39[_0x48553d(0xca)]=![];const _0x24344e={};_0x24344e[_0x48553d(0xe0)]=_0x2c8926[_0x48553d(0xab)],_0x24344e[_0x48553d(0xbb)]=0x1bb;const _0x2cfc5a={};_0x2cfc5a['webdriver']=_0x10ce39,_0x2cfc5a[_0x48553d(0xb8)]=_0x24344e;const _0x40cc2e=_0x2cfc5a;logger[_0x48553d(0xba)](_0x2c8926[_0x48553d(0xcb)]);const _0xe879f={..._0x785a01},_0x27c3a6=_0xe879f,_0x4ec419=helper['useW3C'](_0x2f0c3f['config']),_0x47da0a=[];_0x2f0c3f['config'][_0x48553d(0xc8)][_0x48553d(0xd5)]((_0x468fc5,_0x53e51a)=>{const _0x495329=_0x48553d;_0x4ec419?_0x47da0a[_0x495329(0xc9)](helper[_0x495329(0xbd)](_0x2f0c3f[_0x495329(0xdb)],_0x2c8926[_0x495329(0xcf)],_0x53e51a)):_0x47da0a[_0x495329(0xc9)](helper['modifyBrowserStackCaps'](_0x2f0c3f['config'],_0x2c8926[_0x495329(0xcf)],_0x53e51a));});const _0x15336c={},_0x4c6dca=[];_0x3ec98f['env']=_0x3ec98f['env']||_0x3ec98f['e'];const _0xa6bed0=_0x3ec98f['env']?_0x3ec98f['env']['trim']()[_0x48553d(0xd9)](',')[_0x48553d(0xc3)](_0x27d126=>_0x27d126[_0x48553d(0xbe)]())[_0x48553d(0xc0)](_0x3ba791=>_0x3ba791!==''):[''];_0x2c8926['aeNVs'](_0xa6bed0[_0x48553d(0xa9)],0x0)&&_0xa6bed0['push']('');_0xa6bed0[_0x48553d(0xd5)](_0x4de529=>{const _0x35b122=_0x48553d;_0x47da0a[_0x35b122(0xd5)](_0x218154=>{const _0x244b93=_0x35b122;let _0x544ca7=_0x2c8926[_0x244b93(0xb2)](helper[_0x244b93(0xe3)](_0x218154,'_'),'_'+Date[_0x244b93(0x9f)]());_0x4de529&&(_0x544ca7+='_'+_0x4de529);if(_0x4de529&&(!_0x785a01[_0x2c8926['kSQfC']]||!_0x785a01[_0x2c8926[_0x244b93(0xb9)]][_0x4de529]))return;const _0x4db0fd={..._0x40cc2e};_0x4db0fd[_0x244b93(0xb4)]=_0x218154;const _0xa0ee1d=_0x4db0fd;_0x15336c[_0x544ca7]=_0x4de529?helper[_0x244b93(0xd0)](_0x785a01[_0x2c8926[_0x244b93(0xb9)]][_0x4de529],_0xa0ee1d):_0xa0ee1d,_0x4c6dca[_0x244b93(0xc9)](_0x544ca7);});});!_0x27c3a6[_0x48553d(0xad)]&&(_0x27c3a6[_0x48553d(0xad)]={});_0x27c3a6['test_settings']={..._0x27c3a6[_0x48553d(0xad)],..._0x15336c};const _0xe2d22c=path[_0x48553d(0xa4)](__dirname,_0x2c8926[_0x48553d(0xbc)]);fs['writeFileSync'](_0xe2d22c,JSON[_0x48553d(0xb7)](_0x27c3a6)),_0x2c8926[_0x48553d(0xb6)](removeExistingEnvs,_0x5a2177);const _0x52d24a=_0x2c8926[_0x48553d(0xde)](spawn,/^win/[_0x48553d(0xc2)](process[_0x48553d(0xc4)])?_0x2c8926['eGSkK']:_0x2c8926['gvceN'],[_0x2c8926['qLEOA'],_0xe2d22c,..._0x5a2177[_0x48553d(0xa2)](0x1),_0x2c8926[_0x48553d(0x94)],_0x4c6dca[_0x48553d(0xa4)](',')],{'stdio':_0x2c8926[_0x48553d(0xaa)]});_0x52d24a['on'](_0x2c8926['gHenY'],async _0x4c9a4a=>{const _0x507592=_0x48553d;logger[_0x507592(0xa6)](_0x507592(0x95)+_0x4c9a4a),logger['info'](_0x507592(0xa1)+_0xe2d22c),fs[_0x507592(0xda)](_0xe2d22c);});}module[a33_0xd94390(0xc1)]=run;