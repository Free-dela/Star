#!/usr/bin/env node
'use strict';const a5_0x3f4ec2=a5_0x5cc7;(function(_0x285214,_0x1e083b){const _0xecac34=a5_0x5cc7,_0x5aa1bb=_0x285214();while(!![]){try{const _0x3a67f3=parseInt(_0xecac34(0xc8))/0x1+parseInt(_0xecac34(0xb4))/0x2+parseInt(_0xecac34(0xd5))/0x3+-parseInt(_0xecac34(0xa5))/0x4*(-parseInt(_0xecac34(0xdb))/0x5)+parseInt(_0xecac34(0xec))/0x6+parseInt(_0xecac34(0xde))/0x7+-parseInt(_0xecac34(0x82))/0x8;if(_0x3a67f3===_0x1e083b)break;else _0x5aa1bb['push'](_0x5aa1bb['shift']());}catch(_0x27813d){_0x5aa1bb['push'](_0x5aa1bb['shift']());}}}(a5_0x349e,0x89352));function a5_0x349e(){const _0x2be6c6=['config','\x20steps','removeDir','turboScaleUrl','util','stop','****\x20RESULTS\x20****','nSWWV','lDuyk','join','prepareCapabilities','BROWSERSTACK_TEST_OBSERVABILITY_YML','1426812TgFFiy','debug','stepsAmbiguous','forEach','../../helpers/BrowserStackSetup','oBvOB','testObservability','getErrorMessageFromResults','log','isUndefined','accessibilityOptions','31485064TQxNhg','start','CUCUMBER','uLYAq','length','\x20skipped','GrpBC','bold','winstonLogger','DSuBx','stepsPending','cyan','vQHOF','stepsUnknown','useW3C','launchBuild','iEABu','hXEkx','../../helpers/utilities','yellow','getUserWorkerCount','MnjLf','mergeOutputFiles','splice','Exception\x20in\x20stop\x20build\x20request\x20to\x20testhub\x20:\x20','IfSbC','getTCGConfigFilePaths','Pnfsb','../../helpers/testhub/testhubHandler','uXaGl','\x20scenarios','end','path','createDir','../utils/constants','260VmMeBB','bgWhite','push','sPGIL','Removing\x20tmp\x20directory\x20created\x20for\x20reports','FjzBA','FRAMEWORKS','skipSessionStatus','errorMessage','zERRq','exitCode','skipSessionName','stepsSkipped','dbKHH','testContextOptions','1794904yoKDFR','\x20passed','format','SDK_SETUP','EmDrj','processSuccess','stringify','setUserConfigPath','OPYuj','parallelsPerPlatform','env','\x20undefined','SIIRW','green','twghK','HwCOY','setupTCGAuth','mxpUc','tmp','amFAA','910897RkVJkf','trmSr','../../helpers/performance/constants','SDK_CLEANUP','stepsUndefined','scenariosFailed','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','qNAzq','../../helpers/logger','printBuildLink','\x20failed','cEjPm','exports','2817627drfLDn','\x20ambiguous','\x20pending','red','logLevel','framework','71475jLctiK','cwd','then','4081700JNogOn','iabYD'];a5_0x349e=function(){return _0x2be6c6;};return a5_0x349e();}function a5_0x5cc7(_0x2793fd,_0x52d6f4){const _0x349ea8=a5_0x349e();return a5_0x5cc7=function(_0x5cc710,_0x3be28d){_0x5cc710=_0x5cc710-0x78;let _0x9e4f52=_0x349ea8[_0x5cc710];return _0x9e4f52;},a5_0x5cc7(_0x2793fd,_0x52d6f4);}const fs=require('fs'),path=require(a5_0x3f4ec2(0xa2)),util=require(a5_0x3f4ec2(0xe4)),logger=require(a5_0x3f4ec2(0xd0))[a5_0x3f4ec2(0x8a)],{default:BrowserStackSetup}=require(a5_0x3f4ec2(0x7b)),helper=require('../../helpers/helper'),utilities=require(a5_0x3f4ec2(0x94)),constants=require(a5_0x3f4ec2(0xa4)),{parallelCucumberRun}=require('../test-runner'),TestHubHandler=require(a5_0x3f4ec2(0x9e)),testOpsHelper=require('../../helpers/test-observability/utils'),chalk=require('chalk'),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a5_0x3f4ec2(0xca))['EVENTS'];function printCucumberStats(_0x284521){const _0x300cc7=a5_0x3f4ec2,_0x18010c={};_0x18010c[_0x300cc7(0x88)]=function(_0x237c1f,_0x5eef1e){return _0x237c1f>_0x5eef1e;},_0x18010c[_0x300cc7(0xb2)]=function(_0xfef372,_0x51d588){return _0xfef372-_0x51d588;},_0x18010c[_0x300cc7(0x97)]=function(_0xdfdce4,_0x35cff7){return _0xdfdce4-_0x35cff7;},_0x18010c[_0x300cc7(0x9b)]=function(_0x33fd4e,_0x47c853){return _0x33fd4e>_0x47c853;},_0x18010c[_0x300cc7(0xc5)]=function(_0x2a7b16,_0x1d0084){return _0x2a7b16>_0x1d0084;},_0x18010c[_0x300cc7(0xc7)]=function(_0x952edd,_0x10b5f5){return _0x952edd>_0x10b5f5;},_0x18010c['Pnfsb']=function(_0x3fa750,_0x5480fc){return _0x3fa750>_0x5480fc;},_0x18010c['OPYuj']=function(_0x3db941,_0x43f120){return _0x3db941>_0x43f120;},_0x18010c['twghK']=function(_0x56b656,_0x9f3406){return _0x56b656>_0x9f3406;},_0x18010c[_0x300cc7(0xe7)]=function(_0xe472fa,_0x245c97){return _0xe472fa>_0x245c97;},_0x18010c[_0x300cc7(0xa8)]=function(_0x50256c,_0x1d101e){return _0x50256c>_0x1d101e;},_0x18010c[_0x300cc7(0xcf)]=function(_0x436374,_0x7c7161){return _0x436374+_0x7c7161;},_0x18010c[_0x300cc7(0x7c)]=function(_0x55a456,_0x357732){return _0x55a456+_0x357732;},_0x18010c[_0x300cc7(0xc0)]=function(_0xa77093,_0x4d4cac){return _0xa77093+_0x4d4cac;},_0x18010c[_0x300cc7(0x9f)]=function(_0x3ac688,_0x5ea21d){return _0x3ac688+_0x5ea21d;},_0x18010c[_0x300cc7(0xc3)]=function(_0x2b1b4c,_0x2ff4ee){return _0x2b1b4c===_0x2ff4ee;},_0x18010c['hXEkx']=_0x300cc7(0xe6);const _0x591a2a=_0x18010c;let _0xbb26a0=0x0;if(_0x591a2a[_0x300cc7(0xc3)](_0x284521['length'],0x0))return _0xbb26a0;return console['log'](chalk[_0x300cc7(0x89)][_0x300cc7(0xa6)](_0x591a2a[_0x300cc7(0x93)])),_0x284521[_0x300cc7(0x7a)](_0x144417=>{const _0x419045=_0x300cc7,_0x7964b0=_0x144417[0x0],_0x5485e9=_0x144417[0x1];console[_0x419045(0x7f)]('\x0a'+chalk[_0x419045(0x89)][_0x419045(0x95)](''+helper['getPlatformName'](_0x7964b0)));const _0x3e7e38=_0x5485e9['scenarios'],_0x4897d2=_0x5485e9['steps'],_0x1af899=_0x5485e9[_0x419045(0xcd)],_0x1ee8fa=_0x5485e9['stepsFailed'],_0x4bdf8f=_0x5485e9['stepsPassed'],_0x4abc92=_0x5485e9[_0x419045(0xb1)],_0x32ca66=_0x5485e9[_0x419045(0x8c)],_0xe7d8a9=_0x5485e9[_0x419045(0xcc)],_0x391a6c=_0x5485e9[_0x419045(0x8f)],_0x3cf2a9=_0x5485e9[_0x419045(0x79)],_0x4aca12=_0x5485e9[_0x419045(0xb9)];let _0x156d5b=_0x3e7e38+_0x419045(0xa0);const _0x5592d4=_0x591a2a[_0x419045(0x88)](_0x591a2a[_0x419045(0xb2)](_0x3e7e38,_0x1af899),0x0)?_0x591a2a[_0x419045(0x97)](_0x3e7e38,_0x1af899):0x0;if(_0x591a2a[_0x419045(0x9b)](_0x1af899,0x0)&&_0x591a2a[_0x419045(0xc5)](_0x5592d4,0x0))_0x156d5b+='\x20('+chalk[_0x419045(0x89)][_0x419045(0xd8)](_0x1af899+_0x419045(0xd2))+',\x20'+chalk[_0x419045(0x89)][_0x419045(0xc1)](_0x5592d4+_0x419045(0xb5))+')';else(_0x591a2a[_0x419045(0xc7)](_0x1af899,0x0)||_0x591a2a[_0x419045(0x88)](_0x5592d4,0x0))&&(_0x156d5b+=_0x591a2a[_0x419045(0x9d)](_0x1af899,0x0)?'\x20('+chalk[_0x419045(0x89)][_0x419045(0xd8)](_0x1af899+_0x419045(0xd2))+')':'\x20('+chalk[_0x419045(0x89)][_0x419045(0xc1)](_0x5592d4+'\x20passed')+')');const _0x350abd=_0x4897d2+_0x419045(0xe1),_0x5c420e=[];_0x591a2a['mxpUc'](_0x3cf2a9,0x0)&&_0x5c420e[_0x419045(0xa7)](''+chalk[_0x419045(0x89)][_0x419045(0xd8)](_0x3cf2a9+_0x419045(0xd6)));_0x591a2a[_0x419045(0xbc)](_0x1ee8fa,0x0)&&_0x5c420e[_0x419045(0xa7)](''+chalk[_0x419045(0x89)]['red'](_0x1ee8fa+_0x419045(0xd2)));_0x591a2a[_0x419045(0xc2)](_0x4bdf8f,0x0)&&_0x5c420e[_0x419045(0xa7)](''+chalk[_0x419045(0x89)]['green'](_0x4bdf8f+_0x419045(0xb5)));_0x591a2a[_0x419045(0x88)](_0x32ca66,0x0)&&_0x5c420e['push'](''+chalk[_0x419045(0x89)]['yellow'](_0x32ca66+_0x419045(0xd7)));_0x591a2a[_0x419045(0xe7)](_0x4abc92,0x0)&&_0x5c420e[_0x419045(0xa7)](''+chalk['bold'][_0x419045(0x8d)](_0x4abc92+'\x20skipped'));_0x591a2a['sPGIL'](_0xe7d8a9,0x0)&&_0x5c420e[_0x419045(0xa7)](''+chalk[_0x419045(0x89)][_0x419045(0x95)](_0xe7d8a9+_0x419045(0xbf)));_0x591a2a[_0x419045(0xe7)](_0x391a6c,0x0)&&_0x5c420e[_0x419045(0xa7)](''+chalk[_0x419045(0x89)]['yellow'](_0x391a6c+_0x419045(0x87)));const _0x23d293=_0x591a2a[_0x419045(0xcf)](_0x591a2a['qNAzq'](_0x591a2a[_0x419045(0x7c)](_0x350abd,'('),_0x5c420e[_0x419045(0xe9)](',\x20')),')');console[_0x419045(0x7f)](_0x591a2a[_0x419045(0xc0)](_0x591a2a[_0x419045(0xc0)](_0x591a2a[_0x419045(0x9f)](_0x591a2a['oBvOB']('\x0a',_0x156d5b),'\x0a'),_0x23d293),'\x0a')),_0x591a2a[_0x419045(0xc3)](_0x4aca12,![])&&(_0xbb26a0=0x1);}),_0xbb26a0;}async function run(_0x1a9fb4,_0x5d9c0e){const _0x58354b=a5_0x3f4ec2,_0x122472={'trmSr':function(_0x43dca4,_0x15f860){return _0x43dca4(_0x15f860);},'cEjPm':function(_0x5c1aa2,_0x50673f){return _0x5c1aa2>_0x50673f;},'FjzBA':'Generating\x20consolidated\x20report...','EmDrj':_0x58354b(0xa9),'nzTPM':'cucumber','IIUaZ':'error\x20removing\x20tcg\x20config\x20file','lDuyk':'cucumber-js','vQHOF':_0x58354b(0xc6),'lAxtj':function(_0x3884dd,_0x393fda){return _0x3884dd>_0x393fda;},'iabYD':function(_0x2c9f15,_0x299602){return _0x2c9f15-_0x299602;},'zERRq':function(_0x55a8ce,_0x13baf3){return _0x55a8ce>=_0x13baf3;},'uLYAq':function(_0x249719,_0xc8d407){return _0x249719!=_0xc8d407;},'DSuBx':'true','iEABu':function(_0x2569cb,_0x34866a,_0xf6fc6c,_0x3c14b0,_0x37a830,_0x4aff71){return _0x2569cb(_0x34866a,_0xf6fc6c,_0x3c14b0,_0x37a830,_0x4aff71);}},_0x4c36a8=new BrowserStackSetup(_0x1a9fb4,_0x122472[_0x58354b(0xe8)]);await _0x4c36a8['initialize'](),helper[_0x58354b(0xbb)](_0x4c36a8[_0x58354b(0xda)],_0x1a9fb4);!helper['isBrowserstackInfra']()&&await _0x4c36a8[_0x58354b(0xc4)]();await helper['handleApp'](_0x4c36a8[_0x58354b(0xe0)]);const _0x698fdd=helper[_0x58354b(0x90)](_0x4c36a8['config']),_0x3a47b1=helper[_0x58354b(0xea)](_0x4c36a8['config'],_0x698fdd,constants[_0x58354b(0xab)][_0x58354b(0x84)]);if(!_0x4c36a8[_0x58354b(0xe0)])return;const _0x53e957=_0x4c36a8['config'][_0x58354b(0xbd)]||helper[_0x58354b(0x96)](_0x1a9fb4,_0x5d9c0e,_0x4c36a8[_0x58354b(0xe0)],constants[_0x58354b(0xab)][_0x58354b(0x84)])||0x1,_0x4236c4={'server':helper['getHubUrl'](_0x4c36a8[_0x58354b(0xe0)]),'proxySettings':_0x4c36a8['config']['proxySettings'],'maxWorkers':_0x53e957,'browserStackLogLevel':_0x4c36a8['config'][_0x58354b(0xd9)],'skipSessionName':_0x4c36a8[_0x58354b(0xe0)]['testContextOptions'][_0x58354b(0xb0)],'skipSessionStatus':_0x4c36a8[_0x58354b(0xe0)][_0x58354b(0xb3)][_0x58354b(0xac)],'turboScaleUrl':_0x4c36a8[_0x58354b(0xe0)][_0x58354b(0xe3)]},_0x5c8d06=process['argv'],[_0x23c352,_0x183054]=helper['parseFormatters'](_0x5c8d06),_0x4ca25e=path[_0x58354b(0xe9)](process[_0x58354b(0xdc)](),_0x122472[_0x58354b(0x8e)]);if(_0x122472['lAxtj'](_0x183054['length'],0x0)){helper[_0x58354b(0xa3)](_0x4ca25e);for(let _0x2a2c75=_0x122472[_0x58354b(0xdf)](_0x23c352[_0x58354b(0x86)],0x1);_0x122472[_0x58354b(0xae)](_0x2a2c75,0x0);_0x2a2c75--){_0x5c8d06[_0x58354b(0x99)](_0x23c352[_0x2a2c75],0x2);}}!helper[_0x58354b(0x80)](_0x4c36a8['config'][_0x58354b(0x81)])&&(process[_0x58354b(0xbe)][_0x58354b(0xce)]=JSON[_0x58354b(0xba)](_0x4c36a8[_0x58354b(0xe0)][_0x58354b(0x81)]));_0x122472[_0x58354b(0x85)](_0x4c36a8[_0x58354b(0xe0)][_0x58354b(0x7d)],null)?process['env'][_0x58354b(0xeb)]=_0x4c36a8[_0x58354b(0xe0)][_0x58354b(0x7d)]:process[_0x58354b(0xbe)][_0x58354b(0xeb)]=_0x122472[_0x58354b(0x8b)];const _0x3b6745=await TestHubHandler[_0x58354b(0x91)](constants[_0x58354b(0xab)][_0x58354b(0x84)],_0x4c36a8);PerformanceTester[_0x58354b(0xa1)](PerformanceEvents[_0x58354b(0xb7)]);let _0x812df4;_0x122472[_0x58354b(0x92)](parallelCucumberRun,_0x3a47b1,_0x4236c4,_0x4c36a8[_0x58354b(0xe0)],_0x5c8d06,_0x183054)[_0x58354b(0xdd)](async _0x355092=>{const _0x44acba=_0x58354b;PerformanceTester[_0x44acba(0x83)](PerformanceEvents[_0x44acba(0xcb)]),_0x812df4=_0x355092;const _0xfd1a73=_0x122472[_0x44acba(0xc9)](printCucumberStats,_0x355092);process[_0x44acba(0xaf)]=_0xfd1a73,_0x122472[_0x44acba(0xd3)](_0x183054[_0x44acba(0x86)],0x0)&&(logger[_0x44acba(0x78)](_0x122472[_0x44acba(0xaa)]),helper[_0x44acba(0x98)](_0x4ca25e,_0x183054),logger['debug'](_0x122472[_0x44acba(0xb8)]),helper[_0x44acba(0xe2)](_0x4ca25e));})['finally'](async()=>{const _0x407900=_0x58354b;PerformanceTester[_0x407900(0x83)](PerformanceEvents[_0x407900(0xcb)]),_0x4c36a8[_0x407900(0xad)]=helper[_0x407900(0x7e)](_0x812df4,_0x122472['nzTPM']),testOpsHelper[_0x407900(0xd1)]();try{await TestHubHandler[_0x407900(0xe5)]();}catch(_0x2bf5d8){logger['debug'](_0x407900(0x9a)+util[_0x407900(0xb6)](_0x2bf5d8));}try{const {browserstackFolderPath:_0x252e87,tcgConfigPath:_0xcba8d4}=helper[_0x407900(0x9c)]();fs['unlinkSync'](_0xcba8d4),fs['rmdirSync'](_0x252e87);}catch(_0xcec6ae){logger['debug'](_0x122472['IIUaZ'],_0xcec6ae);}await utilities['finalExecution'](_0x4c36a8);});}module[a5_0x3f4ec2(0xd4)]=run;