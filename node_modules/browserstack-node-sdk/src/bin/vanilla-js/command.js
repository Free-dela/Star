#!/usr/bin/env node
'use strict';const a53_0x335b35=a53_0x7ebd;(function(_0x566bc7,_0x26ed2f){const _0x3b1f85=a53_0x7ebd,_0x26ba36=_0x566bc7();while(!![]){try{const _0x4d4fd5=-parseInt(_0x3b1f85(0x16c))/0x1*(-parseInt(_0x3b1f85(0x158))/0x2)+parseInt(_0x3b1f85(0x156))/0x3*(-parseInt(_0x3b1f85(0x16e))/0x4)+parseInt(_0x3b1f85(0x171))/0x5+parseInt(_0x3b1f85(0x177))/0x6*(-parseInt(_0x3b1f85(0x172))/0x7)+-parseInt(_0x3b1f85(0x165))/0x8+parseInt(_0x3b1f85(0x17a))/0x9*(-parseInt(_0x3b1f85(0x169))/0xa)+parseInt(_0x3b1f85(0x183))/0xb;if(_0x4d4fd5===_0x26ed2f)break;else _0x26ba36['push'](_0x26ba36['shift']());}catch(_0x38643b){_0x26ba36['push'](_0x26ba36['shift']());}}}(a53_0x4d73,0xd9282));function a53_0x4d73(){const _0x2bb14f=['push','initialize','bhFPQ','SDK_CLEANUP','63cEWCSE','MgYSa','1208xqpTJu','start','configuration','modifyBrowserStackW3CCaps','Config\x20yml\x20is\x20required','getHubUrl','modifyBrowserStackCaps','isUndefined','cwd','\x20doesn\x27t\x20exist','index','../test-runner','tDukp','3237272cBSwew','inGQQ','QGwbk','SDK_SETUP','275890LMTaDF','handleApp','EVENTS','153lrWWkY','length','25324aTzNNS','platforms','file','1833215vfAJky','14lcArFp','VbHfS','../../helpers/testhub/testhubHandler','../../helpers/BrowserStackSetup','File\x20path\x20is\x20required','3038562FLogis','path','vanilla','9diXSoG','finally','forEach','assign','existsSync','config','File\x20','nFzgH','finalExecution','22093192wtPiGK'];a53_0x4d73=function(){return _0x2bb14f;};return a53_0x4d73();}const fs=require('fs'),path=require(a53_0x335b35(0x178)),{default:BrowserStackSetup}=require(a53_0x335b35(0x175)),helper=require('../../helpers/helper'),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require('../../helpers/performance/constants')[a53_0x335b35(0x16b)],utilities=require('../../helpers/utilities'),{parallelVanillaRun}=require(a53_0x335b35(0x163)),TestHubHandler=require(a53_0x335b35(0x174));function a53_0x7ebd(_0x54984a,_0x3824b0){const _0x4d733b=a53_0x4d73();return a53_0x7ebd=function(_0x7ebd55,_0x1020b9){_0x7ebd55=_0x7ebd55-0x153;let _0x569426=_0x4d733b[_0x7ebd55];return _0x569426;},a53_0x7ebd(_0x54984a,_0x3824b0);}async function run(_0x7ba706,_0x249650){const _0x24b19a=a53_0x335b35,_0x928299={'inGQQ':_0x24b19a(0x179),'VbHfS':function(_0x3307b8,_0x1ea6ea){return _0x3307b8(_0x1ea6ea);},'pxzDu':_0x24b19a(0x176),'MgYSa':_0x24b19a(0x15c),'tDukp':function(_0x2a66e1,_0x48fa60){return _0x2a66e1>_0x48fa60;},'bhFPQ':function(_0x29816d,_0x16696a){return _0x29816d>_0x16696a;},'nFzgH':function(_0xac541a,_0x528287){return _0xac541a*_0x528287;},'QGwbk':function(_0x3e5b2d,_0xd77da4,_0x1aa168){return _0x3e5b2d(_0xd77da4,_0x1aa168);}},_0x18c69b=new BrowserStackSetup(_0x7ba706,_0x928299[_0x24b19a(0x166)]);await _0x18c69b[_0x24b19a(0x153)](),await helper[_0x24b19a(0x16a)](_0x18c69b[_0x24b19a(0x17f)]);const _0x56c8cc=[];if(helper[_0x24b19a(0x15f)](_0x7ba706['_'][0x1]))throw _0x928299[_0x24b19a(0x173)](Error,_0x928299['pxzDu']);const _0x2e1a9c=path['join'](process[_0x24b19a(0x160)](),_0x7ba706['_'][0x1]);if(!fs[_0x24b19a(0x17e)](_0x2e1a9c))throw _0x928299[_0x24b19a(0x173)](Error,_0x24b19a(0x180)+_0x7ba706['_'][0x1]+_0x24b19a(0x161));if(!_0x18c69b[_0x24b19a(0x17f)])throw _0x928299[_0x24b19a(0x173)](Error,_0x928299[_0x24b19a(0x157)]);const _0x27805c=helper['useW3C'](_0x18c69b[_0x24b19a(0x17f)]);_0x18c69b['config'][_0x24b19a(0x16f)]&&_0x928299[_0x24b19a(0x164)](_0x18c69b[_0x24b19a(0x17f)][_0x24b19a(0x16f)][_0x24b19a(0x16d)],0x0)&&_0x18c69b[_0x24b19a(0x17f)][_0x24b19a(0x16f)][_0x24b19a(0x17c)]((_0x45a05c,_0x2332a5)=>{const _0x5bc54f=_0x24b19a;_0x27805c?_0x56c8cc[_0x5bc54f(0x184)](helper['modifyBrowserStackW3CCaps'](_0x18c69b[_0x5bc54f(0x17f)],_0x928299['inGQQ'],_0x2332a5)):_0x56c8cc[_0x5bc54f(0x184)](helper[_0x5bc54f(0x15e)](_0x18c69b[_0x5bc54f(0x17f)],_0x928299[_0x5bc54f(0x166)],_0x2332a5));});let _0x163b61,_0x33b206;const _0x4b7e27=[];if(_0x928299[_0x24b19a(0x154)](_0x56c8cc['length'],0x0))_0x56c8cc[_0x24b19a(0x17c)]((_0x1ca400,_0x20d3f0)=>{const _0x1e311d=_0x24b19a,_0x360120={};_0x360120[_0x1e311d(0x162)]=_0x20d3f0,_0x163b61={'server':helper[_0x1e311d(0x15d)](_0x18c69b[_0x1e311d(0x17f)]),'proxySettings':_0x18c69b['config']['proxySettings'],'platform':helper['getPlatformName'](_0x1ca400),'platformCaps':Object[_0x1e311d(0x17d)](_0x360120,_0x18c69b[_0x1e311d(0x17f)][_0x1e311d(0x16f)][_0x20d3f0])};const _0x20f670={'capability':_0x1ca400,..._0x163b61};_0x20f670[_0x1e311d(0x170)]=_0x2e1a9c,_0x20f670['args']=_0x249650;const _0xa1027e={};_0xa1027e[_0x1e311d(0x15a)]=_0x20f670,_0x33b206=_0xa1027e,_0x4b7e27[_0x1e311d(0x184)](_0x33b206);});else{let _0x3a34ee;_0x27805c?_0x3a34ee=helper[_0x24b19a(0x15b)](_0x18c69b['config'],_0x928299[_0x24b19a(0x166)],0x0):_0x3a34ee=helper['modifyBrowserStackCaps'](_0x18c69b['config'],_0x928299[_0x24b19a(0x166)],0x0);_0x163b61={'server':helper[_0x24b19a(0x15d)](_0x18c69b[_0x24b19a(0x17f)]),'proxySettings':_0x18c69b[_0x24b19a(0x17f)]['proxySettings']};const _0x8790ed={'capability':_0x3a34ee,..._0x163b61};_0x8790ed[_0x24b19a(0x170)]=_0x2e1a9c,_0x8790ed['args']=_0x249650;const _0x4cdbc6={};_0x4cdbc6[_0x24b19a(0x15a)]=_0x8790ed,_0x33b206=_0x4cdbc6,_0x4b7e27[_0x24b19a(0x184)](_0x33b206);}const _0x35b7c6=await TestHubHandler['launchBuild'](_0x928299[_0x24b19a(0x166)],_0x18c69b),_0x9a9037=_0x928299[_0x24b19a(0x181)](_0x18c69b[_0x24b19a(0x17f)][_0x24b19a(0x16f)][_0x24b19a(0x16d)]||0x1,_0x18c69b[_0x24b19a(0x17f)]['parallelsPerPlatform']||0x1);PerformanceTester['end'](PerformanceEvents[_0x24b19a(0x168)]),_0x928299[_0x24b19a(0x167)](parallelVanillaRun,_0x4b7e27,_0x9a9037)['then'](_0x3d4766=>{})[_0x24b19a(0x17b)](async()=>{const _0x27c098=_0x24b19a;PerformanceTester[_0x27c098(0x159)](PerformanceEvents[_0x27c098(0x155)]),await utilities[_0x27c098(0x182)](_0x18c69b);});}module['exports']=run;