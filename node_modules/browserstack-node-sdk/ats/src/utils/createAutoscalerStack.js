const a24_0x39d2f8=a24_0x5a8f;(function(_0x384de0,_0x31f86a){const _0x3d0863=a24_0x5a8f,_0x132199=_0x384de0();while(!![]){try{const _0x72a66b=parseInt(_0x3d0863(0x191))/0x1+parseInt(_0x3d0863(0x1a5))/0x2*(-parseInt(_0x3d0863(0x19d))/0x3)+parseInt(_0x3d0863(0x1b9))/0x4+parseInt(_0x3d0863(0x1b4))/0x5*(parseInt(_0x3d0863(0x1a4))/0x6)+parseInt(_0x3d0863(0x195))/0x7+-parseInt(_0x3d0863(0x1af))/0x8*(parseInt(_0x3d0863(0x1b5))/0x9)+-parseInt(_0x3d0863(0x197))/0xa*(parseInt(_0x3d0863(0x19f))/0xb);if(_0x72a66b===_0x31f86a)break;else _0x132199['push'](_0x132199['shift']());}catch(_0x17a48c){_0x132199['push'](_0x132199['shift']());}}}(a24_0x44a9,0x72fdf));const fs=require('fs'),path=require('path'),yaml=require(a24_0x39d2f8(0x1b8)),{CLOUDFORMATION_SCHEMA}=require(a24_0x39d2f8(0x1b0)),Promise=require(a24_0x39d2f8(0x1a7)),AWS=require(a24_0x39d2f8(0x193))['awsObj'],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a24_0x39d2f8(0x18e)),{logger}=require(a24_0x39d2f8(0x1a0));Promise['promisifyAll'](fs);function a24_0x44a9(){const _0x29e7b4=['../config/logger','Resources','ClusterName','zqstm','402fQVOgY','384474jrNBGu','debug','bluebird','Tags','autoscaler-role-creation.yaml','ofzwh','StackId','browserstack:cluster','TemplateBody','foLoa','2297032ZyUVsb','js-yaml-cloudformation-schema','waitFor','RlfFI','xPkUI','37745ufKKCx','18SnYUvn','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','Bqilh','js-yaml','1864792odDXPy','utf-8','join','Key','stringify','Capabilities','load','stackCreateComplete','apiVersion','createAutoscalerStack','StackName','geCSQ','../config/constants','DELETE','RmvIx','777236KwocNJ','toString','./AWSUtils','browserstack:creationDate','2725415DQIxNW','push','10pKLWVv','schema','Value','Properties','templates','Parameters','9tqNDjf','2010-05-15','5682446QZJfRx'];a24_0x44a9=function(){return _0x29e7b4;};return a24_0x44a9();}function a24_0x5a8f(_0x5417e0,_0x410480){const _0x44a9ed=a24_0x44a9();return a24_0x5a8f=function(_0x5a8fa6,_0xbb1562){_0x5a8fa6=_0x5a8fa6-0x189;let _0x1cc209=_0x44a9ed[_0x5a8fa6];return _0x1cc209;},a24_0x5a8f(_0x5417e0,_0x410480);}const addAutoscalerTags=async(_0x12e65c,_0xa6586a,_0x3f88e9)=>{const _0x42618b=a24_0x39d2f8;for(const _0x26f48a in _0x12e65c['Resources']){_0x12e65c[_0x42618b(0x1a1)][_0x26f48a]['Properties']&&_0x12e65c[_0x42618b(0x1a1)][_0x26f48a][_0x42618b(0x19a)][_0x42618b(0x1a8)]&&_0x12e65c['Resources'][_0x26f48a][_0x42618b(0x19a)][_0x42618b(0x1a8)][_0x42618b(0x196)](..._0x3f88e9);}};exports[a24_0x39d2f8(0x18b)]=async _0x3bfa51=>{const _0x332114=a24_0x39d2f8,_0x29cb47={'xPkUI':_0x332114(0x1ac),'Bqilh':_0x332114(0x194),'GFhib':_0x332114(0x19e),'dWDKX':_0x332114(0x19b),'zqstm':_0x332114(0x1a9),'geCSQ':_0x332114(0x1ba),'foLoa':function(_0x3763a1,_0x59bc1b,_0x4498d3,_0x10cd42){return _0x3763a1(_0x59bc1b,_0x4498d3,_0x10cd42);},'ofzwh':_0x332114(0x18f),'zLYBE':_0x332114(0x1a2),'tmwzP':'CAPABILITY_NAMED_IAM','RmvIx':_0x332114(0x1b6),'RlfFI':_0x332114(0x189)},_0x3db123=COMMON_HST_TAGS,_0x83a96={};_0x83a96[_0x332114(0x1bc)]=_0x29cb47[_0x332114(0x1b3)],_0x83a96[_0x332114(0x199)]=_0x3bfa51,_0x3db123['push'](_0x83a96),_0x3db123[_0x332114(0x196)]({'Key':_0x29cb47[_0x332114(0x1b7)],'Value':new Date()['valueOf']()[_0x332114(0x192)]()});const _0x4a68e1={};_0x4a68e1[_0x332114(0x18a)]=_0x29cb47['GFhib'];const _0x324ab3=new AWS['CloudFormation'](_0x4a68e1),_0x148d76=await fs['readFileAsync'](path[_0x332114(0x1bb)](__dirname,'..',_0x29cb47['dWDKX'],_0x29cb47[_0x332114(0x1a3)]),_0x29cb47[_0x332114(0x18d)]),_0x27f36c={};_0x27f36c[_0x332114(0x198)]=CLOUDFORMATION_SCHEMA;const _0x5ae202=yaml[_0x332114(0x1bf)](_0x148d76,_0x27f36c);_0x29cb47[_0x332114(0x1ae)](addAutoscalerTags,_0x5ae202,_0x3bfa51,_0x3db123);const _0x1f0094=JSON[_0x332114(0x1bd)](_0x5ae202),_0xd0081f={};_0xd0081f[_0x332114(0x18c)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x3bfa51,_0xd0081f['OnFailure']=_0x29cb47[_0x332114(0x1aa)],_0xd0081f[_0x332114(0x1ad)]=_0x1f0094,_0xd0081f[_0x332114(0x19c)]=[{'ParameterKey':_0x29cb47['zLYBE'],'ParameterValue':_0x3bfa51}],_0xd0081f[_0x332114(0x1be)]=[_0x29cb47['tmwzP']],_0xd0081f[_0x332114(0x1a8)]=_0x3db123;const _0x40be06=_0xd0081f,_0x3f79c1=await _0x324ab3['createStack'](_0x40be06)['promise']();logger[_0x332114(0x1a6)](_0x29cb47[_0x332114(0x190)]);const _0x349c8e={};return _0x349c8e[_0x332114(0x18c)]=_0x3f79c1[_0x332114(0x1ab)],_0x324ab3[_0x332114(0x1b1)](_0x29cb47[_0x332114(0x1b2)],_0x349c8e)['promise']();};