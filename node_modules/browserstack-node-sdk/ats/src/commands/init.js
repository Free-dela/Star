const a12_0x42fc64=a12_0x12bf;(function(_0x4f3e9a,_0x278ad5){const _0x438d7b=a12_0x12bf,_0x37e052=_0x4f3e9a();while(!![]){try{const _0x3aa766=parseInt(_0x438d7b(0xa4))/0x1+-parseInt(_0x438d7b(0xaf))/0x2*(parseInt(_0x438d7b(0xbe))/0x3)+-parseInt(_0x438d7b(0xd8))/0x4+parseInt(_0x438d7b(0x81))/0x5*(-parseInt(_0x438d7b(0xb5))/0x6)+-parseInt(_0x438d7b(0x8e))/0x7*(parseInt(_0x438d7b(0xe2))/0x8)+-parseInt(_0x438d7b(0xb4))/0x9*(parseInt(_0x438d7b(0x8d))/0xa)+-parseInt(_0x438d7b(0xd6))/0xb*(-parseInt(_0x438d7b(0x7c))/0xc);if(_0x3aa766===_0x278ad5)break;else _0x37e052['push'](_0x37e052['shift']());}catch(_0x35ad78){_0x37e052['push'](_0x37e052['shift']());}}}(a12_0x1147,0x7f5f5));const fs=require('fs'),util=require('util'),got=require(a12_0x42fc64(0x7e)),{v4:uuidv4}=require('uuid'),{logger}=require(a12_0x42fc64(0xe0)),{inputBstackKeys}=require(a12_0x42fc64(0xd4)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getDirForConfig,getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require('../utils/instrumentationUtils');function a12_0x1147(){const _0x4c4c41=['type','XWEtj','prjCv','../utils/userInput','DnqfT','33093401gxomii','bstackAccesskey','3825544TqbYlv','INFO','PwPCT','CvfiM','statusCode','builder','KDrdP','JTiZF','../config/logger','RsTPQ','58360uEnIHz','ERROR','12QmAtJl','bstack-accesskey','got','SQXoH','string','233695afMERo','eNENN','debug','usage','IkyqT','command','TEHGb','wrong-creds','https://','VOQCi','BROWSERSTACK_USERNAME','description','2695930UGWeHX','7JgKzTA','parse','HFRPD','writeFileSync','KpLgV','bCesS','UFWEk','vbshj','error','SPBbN','DywLF','argv','gERDw','SlVsQ','init','vstQz','tGGtK','AxjoX','/automate/plan.json','handler','FldQh','bstack-username','906439ObeBZV','stringify','strict','password','epilogue','pEFpf','Browserstack','BROWSERSTACK_ACCESS_KEY','requestId','options','exit','142TGHYjF','ebfFo','HWmbH','SbcaF','ixolE','27jYgTJf','132urLDWu','recommendCommands','lTXXO','desc','DNEJe','YzLVt','zeTFH','GRnXj','YPeSd','25035OAYios','jYLLU','username','env','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','vCKwe','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','mnlbV','tVWaf','readFileSync','gLAMs','bstackUsername','eKYzs','mkdirSync','kyBmJ','GET','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','help','existsSync'];a12_0x1147=function(){return _0x4c4c41;};return a12_0x1147();}function a12_0x12bf(_0x1f2e23,_0x13b73c){const _0x114786=a12_0x1147();return a12_0x12bf=function(_0x12bf71,_0x3d7ec6){_0x12bf71=_0x12bf71-0x7c;let _0x25f3f8=_0x114786[_0x12bf71];return _0x25f3f8;},a12_0x12bf(_0x1f2e23,_0x13b73c);}exports[a12_0x42fc64(0x86)]=a12_0x42fc64(0x9c),exports[a12_0x42fc64(0xb8)]='Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.',exports[a12_0x42fc64(0xdd)]=function(_0xa985d2){const _0x6151bc=a12_0x42fc64,_0x1383ba={};_0x1383ba[_0x6151bc(0xb1)]=_0x6151bc(0xc2),_0x1383ba['lTXXO']='string',_0x1383ba[_0x6151bc(0xa9)]=_0x6151bc(0xc4),_0x1383ba[_0x6151bc(0x97)]=_0x6151bc(0xcf);const _0x3b7844=_0x1383ba,_0x4ed1b5={};_0x4ed1b5[_0x6151bc(0x8c)]=_0x3b7844[_0x6151bc(0xb1)],_0x4ed1b5['type']=_0x3b7844[_0x6151bc(0xb7)];const _0x36a575={};_0x36a575['description']=_0x3b7844[_0x6151bc(0xa9)],_0x36a575[_0x6151bc(0xd1)]=_0x3b7844[_0x6151bc(0xb7)];const _0x10cc19={};return _0x10cc19['bstack-username']=_0x4ed1b5,_0x10cc19['bstack-accesskey']=_0x36a575,_0xa985d2[_0x6151bc(0x84)](HELP_HEADER_MESSAGE[_0x6151bc(0x9c)])[_0x6151bc(0xa8)](HELP_FOOTER_MESSAGE)[_0x6151bc(0xad)](_0x10cc19)[_0x6151bc(0xb6)]()['strict']()[_0x6151bc(0xcf)](_0x3b7844[_0x6151bc(0x97)])[_0x6151bc(0x99)];},exports[a12_0x42fc64(0xa1)]=async function(_0x9490c9){const _0x4a7299=a12_0x42fc64,_0x2571c9={'FldQh':'utf-8','SQXoH':_0x4a7299(0xc2),'UFWEk':_0x4a7299(0x80),'tVWaf':_0x4a7299(0xc4),'FKMrL':_0x4a7299(0xcf),'AxjoX':function(_0x178c7e){return _0x178c7e();},'PwPCT':function(_0x455e9a){return _0x455e9a();},'DNEJe':function(_0x3647e9,_0x302e04,_0x2441b7,_0x25654f,_0x3f984e,_0x110980,_0x443761){return _0x3647e9(_0x302e04,_0x2441b7,_0x25654f,_0x3f984e,_0x110980,_0x443761);},'YPeSd':'init-called','KDrdP':function(_0xac0138){return _0xac0138();},'JTiZF':function(_0x5c43a2,_0x1e0cf1){return _0x5c43a2!==_0x1e0cf1;},'UuWKk':_0x4a7299(0xb0),'HFRPD':_0x4a7299(0xc8),'zeTFH':function(_0x5def4f,_0x351b10){return _0x5def4f===_0x351b10;},'OQZau':'gnjwS','hONPX':'USuoD','jYLLU':_0x4a7299(0xd5),'vstQz':_0x4a7299(0x95),'DywLF':_0x4a7299(0xba),'RsTPQ':_0x4a7299(0x82),'oDKea':function(_0x49786d,_0x57214c){return _0x49786d===_0x57214c;},'kyBmJ':'PiMXN','TEHGb':_0x4a7299(0xce),'WszcD':function(_0x3e618e){return _0x3e618e();},'tGGtK':_0x4a7299(0xcd),'vCKwe':function(_0x300d17,_0x30e11c,_0x5d8fcc){return _0x300d17(_0x30e11c,_0x5d8fcc);},'jFzDG':function(_0x3c69dc,_0x41a4ce,_0x15abe8){return _0x3c69dc(_0x41a4ce,_0x15abe8);},'ixolE':function(_0xe5b51d,_0x58d8aa){return _0xe5b51d!==_0x58d8aa;},'prjCv':function(_0x6f621a,_0x48dcc3){return _0x6f621a!==_0x48dcc3;},'eKYzs':'OIirS','bCesS':function(_0x13f3a7,_0x22e07d){return _0x13f3a7===_0x22e07d;},'bWIUf':_0x4a7299(0xc5),'KpLgV':_0x4a7299(0x8a),'SbcaF':function(_0x1e3fc3,_0x28c9d0){return _0x1e3fc3!==_0x28c9d0;},'pNzDU':_0x4a7299(0x9b),'CvfiM':_0x4a7299(0x9a),'XWEtj':'Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','GRnXj':_0x4a7299(0x88),'IkyqT':'unknown-error'};try{global_registry[_0x4a7299(0xac)]=_0x2571c9[_0x4a7299(0xda)](uuidv4),_0x2571c9[_0x4a7299(0xb9)](sendInstrumentationEvent,_0x9490c9,_0x2571c9['YPeSd'],messageTypes[_0x4a7299(0xd9)],null,null,_0x9490c9);const _0x4ff60f=_0x2571c9['KDrdP'](getDirForConfig);!fs[_0x4a7299(0xd0)](_0x4ff60f)&&(_0x2571c9['JTiZF'](_0x2571c9['UuWKk'],_0x2571c9[_0x4a7299(0x90)])?fs[_0x4a7299(0xcb)](_0x4ff60f):_0x5bbfbb=_0x552548[_0x4a7299(0x8f)](_0xa92c60[_0x4a7299(0xc7)](_0x353951,_0x2571c9[_0x4a7299(0xa2)])));let _0x48a64d,_0xeb7b9;process['env'][_0x4a7299(0x8b)]&&(_0x2571c9[_0x4a7299(0xbb)](_0x2571c9['OQZau'],_0x2571c9['hONPX'])?_0x46a406=_0x4c63f6[_0x4a7299(0xc9)]:_0x48a64d=process[_0x4a7299(0xc1)][_0x4a7299(0x8b)]);process[_0x4a7299(0xc1)][_0x4a7299(0xab)]&&(_0x2571c9['zeTFH'](_0x2571c9[_0x4a7299(0xbf)],_0x2571c9[_0x4a7299(0xbf)])?_0xeb7b9=process[_0x4a7299(0xc1)][_0x4a7299(0xab)]:_0x5dc6bb=_0x153637['env']['BROWSERSTACK_USERNAME']);_0x9490c9[_0x4a7299(0xc9)]&&(_0x2571c9[_0x4a7299(0xdf)](_0x2571c9[_0x4a7299(0x9d)],_0x2571c9[_0x4a7299(0x98)])?_0x48a64d=_0x9490c9[_0x4a7299(0xc9)]:_0x5ef7e8=_0x4f653e[_0x4a7299(0xd7)]);if(_0x9490c9[_0x4a7299(0xd7)]){if(_0x2571c9['JTiZF'](_0x2571c9[_0x4a7299(0xe1)],_0x2571c9[_0x4a7299(0xe1)])){const _0x329861={};_0x329861[_0x4a7299(0x8c)]=_0x2571c9[_0x4a7299(0x7f)],_0x329861[_0x4a7299(0xd1)]=_0x2571c9[_0x4a7299(0x94)];const _0x193eab={};_0x193eab['description']=_0x2571c9[_0x4a7299(0xc6)],_0x193eab[_0x4a7299(0xd1)]=_0x2571c9['UFWEk'];const _0x11704e={};return _0x11704e[_0x4a7299(0xa3)]=_0x329861,_0x11704e[_0x4a7299(0x7d)]=_0x193eab,_0xd5a652[_0x4a7299(0x84)](_0x260340[_0x4a7299(0x9c)])[_0x4a7299(0xa8)](_0x152a23)[_0x4a7299(0xad)](_0x11704e)['recommendCommands']()[_0x4a7299(0xa6)]()[_0x4a7299(0xcf)](_0x2571c9['FKMrL'])[_0x4a7299(0x99)];}else _0xeb7b9=_0x9490c9['bstackAccesskey'];}if(_0x2571c9['oDKea'](_0x48a64d,undefined)||_0x2571c9[_0x4a7299(0xbb)](_0xeb7b9,undefined)){if(_0x2571c9['zeTFH'](_0x2571c9[_0x4a7299(0xcc)],_0x2571c9[_0x4a7299(0xcc)])){logger[_0x4a7299(0x83)](_0x2571c9[_0x4a7299(0x87)]);const [_0x5c8a4e,_0x45412f]=await _0x2571c9['WszcD'](inputBstackKeys);_0x48a64d=_0x5c8a4e,_0xeb7b9=_0x45412f;}else{let _0x2afc21={};const _0x3966ae=_0x2571c9[_0x4a7299(0x9f)](_0x5756f9);_0x1827db[_0x4a7299(0xd0)](_0x3966ae)&&(_0x2afc21=_0x2e70f6[_0x4a7299(0x8f)](_0x1f90a8[_0x4a7299(0xc7)](_0x3966ae,_0x2571c9[_0x4a7299(0xa2)])));const _0x3029f4={};_0x3029f4[_0x4a7299(0xc0)]=_0x11422f,_0x3029f4[_0x4a7299(0xa7)]=_0x29b51a,_0x2afc21[_0x4a7299(0xaa)]=_0x3029f4,_0x2881c8[_0x4a7299(0x91)](_0x3966ae,_0x4a51e3[_0x4a7299(0xa5)](_0x2afc21)),_0x473771['exit'](0x0);}}let _0x1ecef2=![];const _0x26ca5c=_0x4a7299(0x89)+_0x48a64d+':'+_0xeb7b9+'@'+BS_API_URL+_0x4a7299(0xa0),_0x30583a={'method':_0x2571c9[_0x4a7299(0x9e)],'headers':_0x2571c9[_0x4a7299(0xc3)](getAuthHeader,_0x48a64d,_0xeb7b9),'throwHttpErrors':![]},_0x13c1cd=await _0x2571c9['jFzDG'](got,_0x26ca5c,_0x30583a);_0x2571c9[_0x4a7299(0xdf)](_0x13c1cd,null)&&_0x2571c9[_0x4a7299(0xb3)](_0x13c1cd,undefined)&&_0x2571c9['zeTFH'](_0x13c1cd[_0x4a7299(0xdc)],0xc8)&&(_0x2571c9[_0x4a7299(0xd3)](_0x2571c9[_0x4a7299(0xca)],_0x2571c9['eKYzs'])?_0x154cd6[_0x4a7299(0xcb)](_0x14a832):_0x1ecef2=!![]);if(_0x1ecef2){if(_0x2571c9[_0x4a7299(0x93)](_0x2571c9['bWIUf'],_0x2571c9[_0x4a7299(0x92)]))_0x3a3a90=!![];else{let _0x2e4ad8={};const _0x8e0f4c=_0x2571c9[_0x4a7299(0xde)](getCredentialsPath);fs['existsSync'](_0x8e0f4c)&&(_0x2571c9[_0x4a7299(0xb2)](_0x2571c9['pNzDU'],_0x2571c9[_0x4a7299(0xdb)])?_0x2e4ad8=JSON[_0x4a7299(0x8f)](fs['readFileSync'](_0x8e0f4c,_0x2571c9['FldQh'])):_0x4e03f1=_0xb52cd7[_0x4a7299(0xc1)][_0x4a7299(0xab)]);const _0x66a2ba={};_0x66a2ba[_0x4a7299(0xc0)]=_0x48a64d,_0x66a2ba[_0x4a7299(0xa7)]=_0xeb7b9,_0x2e4ad8['Browserstack']=_0x66a2ba,fs[_0x4a7299(0x91)](_0x8e0f4c,JSON[_0x4a7299(0xa5)](_0x2e4ad8)),process[_0x4a7299(0xae)](0x0);}}else logger[_0x4a7299(0x96)](_0x2571c9[_0x4a7299(0xd2)]),await _0x2571c9[_0x4a7299(0xb9)](sendInstrumentationEvent,_0x9490c9,_0x2571c9[_0x4a7299(0xbd)],messageTypes[_0x4a7299(0xe3)],_0x2571c9[_0x4a7299(0xbc)],null,_0x9490c9),process['exit'](0x1);}catch(_0x170cf5){logger[_0x4a7299(0x96)](_0x170cf5['stack']),await _0x2571c9[_0x4a7299(0xb9)](sendInstrumentationEvent,_0x9490c9,_0x2571c9[_0x4a7299(0xbd)],messageTypes['ERROR'],_0x2571c9[_0x4a7299(0x85)],_0x170cf5,_0x9490c9),process[_0x4a7299(0xae)](0x1);}};